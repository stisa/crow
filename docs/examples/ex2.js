/* Generated by the Nim Compiler v0.16.1 */
/*   (c) 2017 Andreas Rumpf */

var framePtr = null;
var excHandler = 0;
var lastJSError = null;
if (typeof Int8Array === 'undefined') Int8Array = Array;
if (typeof Int16Array === 'undefined') Int16Array = Array;
if (typeof Int32Array === 'undefined') Int32Array = Array;
if (typeof Uint8Array === 'undefined') Uint8Array = Array;
if (typeof Uint16Array === 'undefined') Uint16Array = Array;
if (typeof Uint32Array === 'undefined') Uint32Array = Array;
if (typeof Float32Array === 'undefined') Float32Array = Array;
if (typeof Float64Array === 'undefined') Float64Array = Array;
var NTI71077 = {size: 0,kind: 16,base: null,node: null,finalizer: null};
var NTI71076 = {size: 0,kind: 22,base: null,node: null,finalizer: null};
var NTI71060 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI71908 = {size: 0,kind: 16,base: null,node: null,finalizer: null};
var NTI71907 = {size: 0,kind: 22,base: null,node: null,finalizer: null};
var NTI71891 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI72147 = {size: 0,kind: 16,base: null,node: null,finalizer: null};
var NTI72146 = {size: 0,kind: 22,base: null,node: null,finalizer: null};
var NTI72130 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI71250 = {size: 0,kind: 16,base: null,node: null,finalizer: null};
var NTI71249 = {size: 0,kind: 22,base: null,node: null,finalizer: null};
var NTI71233 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI128 = {size: 0,kind: 36,base: null,node: null,finalizer: null};
var NTI71211 = {size: 0,kind: 16,base: null,node: null,finalizer: null};
var NTI72189 = {size: 0,kind: 16,base: null,node: null,finalizer: null};
var NTI72188 = {size: 0,kind: 22,base: null,node: null,finalizer: null};
var NTI72172 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI51068 = {size: 0,kind: 24,base: null,node: null,finalizer: null};
var NTI74051 = {size: 0,kind: 24,base: null,node: null,finalizer: null};
var NTI3458 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI75010 = {size: 0,kind: 24,base: null,node: null,finalizer: null};
var NTI75008 = {size: 0,kind: 24,base: null,node: null,finalizer: null};
var NTI75006 = {size: 0,kind: 24,base: null,node: null,finalizer: null};
var NTI75005 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI74029 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI74026 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI74017 = {size: 0,kind: 24,base: null,node: null,finalizer: null};
var NTI130 = {size: 0,kind: 1,base: null,node: null,finalizer: null};
var NTI74011 = {size: 0, kind: 18, base: null, node: null, finalizer: null};
var NTI74005 = {size: 0, kind: 18, base: null, node: null, finalizer: null};
var NTI66002 = {size: 0, kind: 18, base: null, node: null, finalizer: null};
var NTI74003 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI124 = {size: 0,kind: 36,base: null,node: null,finalizer: null};
var NTI74021 = {size: 0, kind: 18, base: null, node: null, finalizer: null};
var NTI74020 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI114 = {size: 0,kind: 40,base: null,node: null,finalizer: null};
var NTI70017 = {size: 0,kind: 24,base: null,node: null,finalizer: null};
var NTI55336 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI55334 = {size: 0,kind: 22,base: null,node: null,finalizer: null};
var NTI70015 = {size: 0,kind: 24,base: null,node: null,finalizer: null};
var NTI55356 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI55354 = {size: 0,kind: 22,base: null,node: null,finalizer: null};
var NTI70011 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI70002 = {size: 0, kind: 14, base: null, node: null, finalizer: null};
var NTI55360 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI55358 = {size: 0,kind: 22,base: null,node: null,finalizer: null};
var NTI70006 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI3448 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI3450 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI3446 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI3454 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI51039 = {size: 0,kind: 24,base: null,node: null,finalizer: null};
var NTI51036 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI51024 = {size: 0,kind: 25,base: null,node: null,finalizer: null};
var NTI51023 = {size: 0,kind: 24,base: null,node: null,finalizer: null};
var NTI51010 = {size: 0, kind: 18, base: null, node: null, finalizer: null};
var NTI51436 = {size: 0,kind: 24,base: null,node: null,finalizer: null};
var NTI3440 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI104 = {size: 0,kind: 31,base: null,node: null,finalizer: null};
var NTI12809 = {size: 0, kind: 18, base: null, node: null, finalizer: null};
var NTI3408 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI138 = {size: 0,kind: 28,base: null,node: null,finalizer: null};
var NTI140 = {size: 0,kind: 29,base: null,node: null,finalizer: null};
var NTI3485 = {size: 0,kind: 22,base: null,node: null,finalizer: null};
var NTI3424 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI3438 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI3442 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NNI3442 = {kind: 2, len: 0, offset: 0, typ: null, name: null, sons: []};
NTI3442.node = NNI3442;
var NNI3438 = {kind: 2, len: 0, offset: 0, typ: null, name: null, sons: []};
NTI3438.node = NNI3438;
NTI3485.base = NTI3424;
var NNI3424 = {kind: 2, len: 4, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "parent", len: 0, typ: NTI3485, name: "parent", sons: null}, 
{kind: 1, offset: "name", len: 0, typ: NTI140, name: "name", sons: null}, 
{kind: 1, offset: "message", len: 0, typ: NTI138, name: "msg", sons: null}, 
{kind: 1, offset: "trace", len: 0, typ: NTI138, name: "trace", sons: null}]};
NTI3424.node = NNI3424;
var NNI3408 = {kind: 2, len: 0, offset: 0, typ: null, name: null, sons: []};
NTI3408.node = NNI3408;
NTI3424.base = NTI3408;
NTI3438.base = NTI3424;
NTI3442.base = NTI3438;
var NNI12809 = {kind: 2, len: 2, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "Field0", len: 0, typ: NTI140, name: "Field0", sons: null}, 
{kind: 1, offset: "Field1", len: 0, typ: NTI104, name: "Field1", sons: null}]};
NTI12809.node = NNI12809;
var NNI3440 = {kind: 2, len: 0, offset: 0, typ: null, name: null, sons: []};
NTI3440.node = NNI3440;
NTI3440.base = NTI3438;
NTI51023.base = NTI51024;
var NNI51010 = {kind: 2, len: 2, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "Field0", len: 0, typ: NTI138, name: "Field0", sons: null}, 
{kind: 1, offset: "Field1", len: 0, typ: NTI51023, name: "Field1", sons: null}]};
NTI51010.node = NNI51010;
NTI51436.base = NTI51010;
NTI51039.base = NTI51010;
var NNI51036 = {kind: 1, offset: "s", len: 0, typ: NTI51039, name: "s", sons: null};
NTI51036.node = NNI51036;
var NNI3454 = {kind: 2, len: 0, offset: 0, typ: null, name: null, sons: []};
NTI3454.node = NNI3454;
NTI3454.base = NTI3424;
var NNI3446 = {kind: 2, len: 0, offset: 0, typ: null, name: null, sons: []};
NTI3446.node = NNI3446;
NTI3446.base = NTI3424;
var NNI3450 = {kind: 2, len: 0, offset: 0, typ: null, name: null, sons: []};
NTI3450.node = NNI3450;
var NNI3448 = {kind: 2, len: 0, offset: 0, typ: null, name: null, sons: []};
NTI3448.node = NNI3448;
NTI3448.base = NTI3424;
NTI3450.base = NTI3448;
var NNI55360 = {kind: 2, len: 0, offset: 0, typ: null, name: null, sons: []};
NTI55360.node = NNI55360;
NTI55360.base = NTI3408;
NTI55358.base = NTI55360;
var NNI70002 = {kind: 2, offset: 0, typ: null, name: null, len: 2, sons: [{kind: 1, offset: 0, typ: NTI70002, name: "Fragment", len: 0, sons: null}, 
{kind: 1, offset: 1, typ: NTI70002, name: "Vertex", len: 0, sons: null}]};
NTI70002.node = NNI70002;
var NNI70006 = {kind: 2, len: 3, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "source", len: 0, typ: NTI138, name: "source", sons: null}, 
{kind: 1, offset: "s", len: 0, typ: NTI55358, name: "s", sons: null}, 
{kind: 1, offset: "kind", len: 0, typ: NTI70002, name: "kind", sons: null}]};
NTI70006.node = NNI70006;
var NNI55356 = {kind: 2, len: 0, offset: 0, typ: null, name: null, sons: []};
NTI55356.node = NNI55356;
NTI55356.base = NTI3408;
NTI55354.base = NTI55356;
var NNI55336 = {kind: 2, len: 0, offset: 0, typ: null, name: null, sons: []};
NTI55336.node = NNI55336;
NTI55336.base = NTI3408;
NTI55334.base = NTI55336;
NTI70015.base = NTI55334;
NTI70017.base = NTI114;
var NNI70011 = {kind: 2, len: 5, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "p", len: 0, typ: NTI55354, name: "p", sons: null}, 
{kind: 1, offset: "vertex", len: 0, typ: NTI70006, name: "vertex", sons: null}, 
{kind: 1, offset: "fragment", len: 0, typ: NTI70006, name: "fragment", sons: null}, 
{kind: 1, offset: "colors", len: 0, typ: NTI70015, name: "colors", sons: null}, 
{kind: 1, offset: "attributes", len: 0, typ: NTI70017, name: "attributes", sons: null}]};
NTI70011.node = NNI70011;
var NNI74021 = {kind: 2, len: 2, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "Field0", len: 0, typ: NTI124, name: "Field0", sons: null}, 
{kind: 1, offset: "Field1", len: 0, typ: NTI124, name: "Field1", sons: null}]};
NTI74021.node = NNI74021;
var NNI74020 = {kind: 1, offset: "size", len: 0, typ: NTI74021, name: "size", sons: null};
NTI74020.node = NNI74020;
var NNI66002 = {kind: 2, len: 4, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "Field0", len: 0, typ: NTI124, name: "Field0", sons: null}, 
{kind: 1, offset: "Field1", len: 0, typ: NTI124, name: "Field1", sons: null}, 
{kind: 1, offset: "Field2", len: 0, typ: NTI124, name: "Field2", sons: null}, 
{kind: 1, offset: "Field3", len: 0, typ: NTI124, name: "Field3", sons: null}]};
NTI66002.node = NNI66002;
var NNI74005 = {kind: 2, len: 2, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "Field0", len: 0, typ: NTI124, name: "Field0", sons: null}, 
{kind: 1, offset: "Field1", len: 0, typ: NTI124, name: "Field1", sons: null}]};
NTI74005.node = NNI74005;
var NNI74011 = {kind: 2, len: 2, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "Field0", len: 0, typ: NTI124, name: "Field0", sons: null}, 
{kind: 1, offset: "Field1", len: 0, typ: NTI124, name: "Field1", sons: null}]};
NTI74011.node = NNI74011;
NTI74017.base = NTI124;
var NNI74003 = {kind: 2, len: 8, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "color", len: 0, typ: NTI66002, name: "color", sons: null}, 
{kind: 1, offset: "pos", len: 0, typ: NTI74005, name: "pos", sons: null}, 
{kind: 1, offset: "scale", len: 0, typ: NTI124, name: "scale", sons: null}, 
{kind: 1, offset: "rot", len: 0, typ: NTI124, name: "rot", sons: null}, 
{kind: 1, offset: "origin", len: 0, typ: NTI74011, name: "origin", sons: null}, 
{kind: 1, offset: "centered", len: 0, typ: NTI130, name: "centered", sons: null}, 
{kind: 1, offset: "filled", len: 0, typ: NTI130, name: "filled", sons: null}, 
{kind: 1, offset: "verts", len: 0, typ: NTI74017, name: "verts", sons: null}]};
NTI74003.node = NNI74003;
NTI74003.base = NTI3408;
NTI74020.base = NTI74003;
var NNI74026 = {kind: 1, offset: "radius", len: 0, typ: NTI124, name: "radius", sons: null};
NTI74026.node = NNI74026;
NTI74026.base = NTI74003;
var NNI74029 = {kind: 2, len: 2, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "sides", len: 0, typ: NTI104, name: "sides", sons: null}, 
{kind: 1, offset: "bcradius", len: 0, typ: NTI124, name: "bcradius", sons: null}]};
NTI74029.node = NNI74029;
NTI74029.base = NTI74003;
NTI75006.base = NTI74020;
NTI75008.base = NTI74026;
NTI75010.base = NTI74029;
var NNI75005 = {kind: 2, len: 3, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "r", len: 0, typ: NTI75006, name: "r", sons: null}, 
{kind: 1, offset: "c", len: 0, typ: NTI75008, name: "c", sons: null}, 
{kind: 1, offset: "p", len: 0, typ: NTI75010, name: "p", sons: null}]};
NTI75005.node = NNI75005;
var NNI3458 = {kind: 2, len: 0, offset: 0, typ: null, name: null, sons: []};
NTI3458.node = NNI3458;
NTI3458.base = NTI3424;
NTI74051.base = NTI124;
NTI51068.base = NTI51024;
NTI72189.base = NTI124;
NTI72188.base = NTI72189;
var NNI72172 = {kind: 2, len: 2, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "data", len: 0, typ: NTI72188, name: "data", sons: null}, 
{kind: 2, len: 0, offset: 0, typ: null, name: null, sons: []}]};
NTI72172.node = NNI72172;
NTI71211.base = NTI128;
NTI71250.base = NTI124;
NTI71249.base = NTI71250;
var NNI71233 = {kind: 2, len: 2, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "data", len: 0, typ: NTI71249, name: "data", sons: null}, 
{kind: 2, len: 0, offset: 0, typ: null, name: null, sons: []}]};
NTI71233.node = NNI71233;
NTI72147.base = NTI124;
NTI72146.base = NTI72147;
var NNI72130 = {kind: 2, len: 2, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "data", len: 0, typ: NTI72146, name: "data", sons: null}, 
{kind: 2, len: 0, offset: 0, typ: null, name: null, sons: []}]};
NTI72130.node = NNI72130;
NTI71908.base = NTI124;
NTI71907.base = NTI71908;
var NNI71891 = {kind: 2, len: 2, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "data", len: 0, typ: NTI71907, name: "data", sons: null}, 
{kind: 2, len: 0, offset: 0, typ: null, name: null, sons: []}]};
NTI71891.node = NNI71891;
NTI71077.base = NTI124;
NTI71076.base = NTI71077;
var NNI71060 = {kind: 2, len: 2, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "data", len: 0, typ: NTI71076, name: "data", sons: null}, 
{kind: 2, len: 0, offset: 0, typ: null, name: null, sons: []}]};
NTI71060.node = NNI71060;
function makeNimstrLit(c_13803) {

    var ln = c_13803.length;
    var result = new Array(ln + 1);
    var i = 0;
    for (; i < ln; ++i) {
      result[i] = c_13803.charCodeAt(i);
    }
    result[i] = 0; // terminating zero
    return result;
    }
function SetConstr() {

      var result = {};
      for (var i = 0; i < arguments.length; ++i) {
        var x = arguments[i];
        if (typeof(x) == "object") {
          for (var j = x[0]; j <= x[1]; ++j) {
            result[j] = true;
          }
        } else {
          result[x] = true;
        }
      }
      return result;
    }
function nimCopy(dest_19018, src_19019, ti_19020) {

var result_19429 = null;
switch (ti_19020.kind) {
case 21: case 22: case 23: case 5: if (!(isFatPointer_19001(ti_19020))) {
result_19429 = src_19019;
}
else {
result_19429 = [src_19019[0], src_19019[1]];}


break;
case 19:       if (dest_19018 === null || dest_19018 === undefined) {
        dest_19018 = {};
      }
      else {
        for (var key in dest_19018) { delete dest_19018[key]; }
      }
      for (var key in src_19019) { dest_19018[key] = src_19019[key]; }
      result_19429 = dest_19018;
    
break;
case 18: case 17: if (!((ti_19020.base == null))) {
result_19429 = nimCopy(dest_19018, src_19019, ti_19020.base);
}
else {
if ((ti_19020.kind == 17)) {
result_19429 = (dest_19018 === null || dest_19018 === undefined) ? {m_type: ti_19020} : dest_19018;}
else {
result_19429 = (dest_19018 === null || dest_19018 === undefined) ? {} : dest_19018;}
}
nimCopyAux(result_19429, src_19019, ti_19020.node);

break;
case 24: case 4: case 27: case 16:       if (src_19019 === null) {
        result_19429 = null;
      }
      else {
        if (dest_19018 === null || dest_19018 === undefined) {
          dest_19018 = new Array(src_19019.length);
        }
        else {
          dest_19018.length = src_19019.length;
        }
        result_19429 = dest_19018;
        for (var i = 0; i < src_19019.length; ++i) {
          result_19429[i] = nimCopy(result_19429[i], src_19019[i], ti_19020.base);
        }
      }
    
break;
case 28:       if (src_19019 !== null) {
        result_19429 = src_19019.slice(0);
      }
    
break;
default: 
result_19429 = src_19019;
break;
}
return result_19429;
}
function eqStrings(a_16403, b_16404) {

    if (a_16403 == b_16404) return true;
    if ((!a_16403) || (!b_16404)) return false;
    var alen = a_16403.length;
    if (alen != b_16404.length) return false;
    for (var i = 0; i < alen; ++i)
      if (a_16403[i] != b_16404[i]) return false;
    return true;
  }
function arrayConstr(len_19603, value_19604, typ_19605) {

      var result = new Array(len_19603);
      for (var i = 0; i < len_19603; ++i) result[i] = nimCopy(null, value_19604, typ_19605);
      return result;
    }
function cstrToNimstr(c_14003) {

  var ln = c_14003.length;
  var result = new Array(ln);
  var r = 0;
  for (var i = 0; i < ln; ++i) {
    var ch = c_14003.charCodeAt(i);

    if (ch < 128) {
      result[r] = ch;
    }
    else if((ch > 127) && (ch < 2048)) {
      result[r] = (ch >> 6) | 192;
      ++r;
      result[r] = (ch & 63) | 128;
    }
    else {
      result[r] = (ch >> 12) | 224;
      ++r;
      result[r] = ((ch >> 6) & 63) | 128;
      ++r;
      result[r] = (ch & 63) | 128;
    }
    ++r;
  }
  result[r] = 0; // terminating zero
  return result;
  }
function toJSStr(s_14203) {

    var len = s_14203.length-1;
    var asciiPart = new Array(len);
    var fcc = String.fromCharCode;
    var nonAsciiPart = null;
    var nonAsciiOffset = 0;
    for (var i = 0; i < len; ++i) {
      if (nonAsciiPart !== null) {
        var offset = (i - nonAsciiOffset) * 2;
        var code = s_14203[i].toString(16);
        if (code.length == 1) {
          code = "0"+code;
        }
        nonAsciiPart[offset] = "%";
        nonAsciiPart[offset + 1] = code;
      }
      else if (s_14203[i] < 128)
        asciiPart[i] = fcc(s_14203[i]);
      else {
        asciiPart.length = i;
        nonAsciiOffset = i;
        nonAsciiPart = new Array((len - i) * 2);
        --i;
      }
    }
    asciiPart = asciiPart.join("");
    return (nonAsciiPart === null) ?
        asciiPart : asciiPart + decodeURIComponent(nonAsciiPart.join(""));
  }
function raiseException(e_13206, ename_13207) {

e_13206.name = ename_13207;
if ((excHandler == 0)) {
unhandledException(e_13206);
}

e_13206.trace = nimCopy(null, rawWriteStackTrace_13028(), NTI138);
throw e_13206;}
function chckIndx(i_19609, a_19610, b_19611) {

var Tmp1;
var result_19612 = 0;
BeforeRet: do {
if (!(a_19610 <= i_19609)) Tmp1 = false; else {Tmp1 = (i_19609 <= b_19611); }if (Tmp1) {
result_19612 = i_19609;
break BeforeRet;
}
else {
raiseIndexError();
}

} while (false); 
return result_19612;
}
function addInt(a_16660, b_16661) {

      var result = a_16660 + b_16661;
      if (result > 2147483647 || result < -2147483648) raiseOverflow();
      return result;
    }
function subInt(a_16803, b_16804) {

      var result = a_16803 - b_16804;
      if (result > 2147483647 || result < -2147483648) raiseOverflow();
      return result;
    }
function mulInt(a_17003, b_17004) {

      var result = a_17003 * b_17004;
      if (result > 2147483647 || result < -2147483648) raiseOverflow();
      return result;
    }
function chckRange(i_19615, a_19616, b_19617) {

var Tmp1;
var result_19618 = 0;
BeforeRet: do {
if (!(a_19616 <= i_19615)) Tmp1 = false; else {Tmp1 = (i_19615 <= b_19617); }if (Tmp1) {
result_19618 = i_19615;
break BeforeRet;
}
else {
raiseRangeError();
}

} while (false); 
return result_19618;
}
function divInt(a_17203, b_17204) {

      if (b_17204 == 0) raiseDivByZero();
      if (b_17204 == -1 && a_17203 == 2147483647) raiseOverflow();
      return Math.floor(a_17203 / b_17204);
    }
var nimvm_5887 = false;
var nim_program_result = 0;
var globalRaiseHook_10805 = [null];
var localRaiseHook_10810 = [null];
var outOfMemHook_10813 = [null];
function isFatPointer_19001(ti_19003) {

var result_19004 = false;
BeforeRet: do {
result_19004 = !((SetConstr(17, 16, 4, 18, 27, 19, 23, 22, 21)[ti_19003.base.kind] != undefined));
break BeforeRet;
} while (false); 
return result_19004;
}
function nimCopyAux(dest_19023, src_19024, n_19026) {

switch (n_19026.kind) {
case 0: 
break;
case 1:       dest_19023[n_19026.offset] = nimCopy(dest_19023[n_19026.offset], src_19024[n_19026.offset], n_19026.typ);
    
break;
case 2: L1: do {
var i_19415 = 0;
var colontmp__19417 = 0;
colontmp__19417 = (n_19026.len - 1);
var res_19420 = 0;
L2: do {
L3: while (true) {
if (!(res_19420 <= colontmp__19417)) break L3;
i_19415 = res_19420;
nimCopyAux(dest_19023, src_19024, n_19026.sons[i_19415]);
res_19420 += 1;
}
} while(false);
} while(false);

break;
case 3:       dest_19023[n_19026.offset] = nimCopy(dest_19023[n_19026.offset], src_19024[n_19026.offset], n_19026.typ);
      for (var i = 0; i < n_19026.sons.length; ++i) {
        nimCopyAux(dest_19023, src_19024, n_19026.sons[i][1]);
      }
    
break;
}
}
function add_10829(x_10832, x_10832_Idx, y_10833) {

        var len = x_10832[0].length-1;
        for (var i = 0; i < y_10833.length; ++i) {
          x_10832[0][len] = y_10833.charCodeAt(i);
          ++len;
        }
        x_10832[0][len] = 0
      }
function auxWriteStackTrace_12804(f_12806) {

var Tmp3;
var result_12807 = [null];
var it_12815 = f_12806;
var i_12816 = 0;
var total_12817 = 0;
var tempFrames_12821 = arrayConstr(64, {Field0: null, Field1: 0}, NTI12809);
L1: do {
L2: while (true) {
if (!!((it_12815 == null))) Tmp3 = false; else {Tmp3 = (i_12816 <= 63); }if (!Tmp3) break L2;
tempFrames_12821[i_12816].Field0 = it_12815.procname;
tempFrames_12821[i_12816].Field1 = it_12815.line;
i_12816 += 1;
total_12817 += 1;
it_12815 = it_12815.prev;
}
} while(false);
L4: do {
L5: while (true) {
if (!!((it_12815 == null))) break L5;
total_12817 += 1;
it_12815 = it_12815.prev;
}
} while(false);
result_12807[0] = nimCopy(null, makeNimstrLit(""), NTI138);
if (!((total_12817 == i_12816))) {
if (result_12807[0] != null) { result_12807[0] = (result_12807[0].slice(0, -1)).concat(makeNimstrLit("(")); } else { result_12807[0] = makeNimstrLit("(");};
if (result_12807[0] != null) { result_12807[0] = (result_12807[0].slice(0, -1)).concat(cstrToNimstr(((total_12817 - i_12816))+"")); } else { result_12807[0] = cstrToNimstr(((total_12817 - i_12816))+"");};
if (result_12807[0] != null) { result_12807[0] = (result_12807[0].slice(0, -1)).concat(makeNimstrLit(" calls omitted) ...\x0A")); } else { result_12807[0] = makeNimstrLit(" calls omitted) ...\x0A");};
}

L6: do {
var j_13015 = 0;
var colontmp__13021 = 0;
colontmp__13021 = (i_12816 - 1);
var res_13024 = colontmp__13021;
L7: do {
L8: while (true) {
if (!(0 <= res_13024)) break L8;
j_13015 = res_13024;
add_10829(result_12807, 0, tempFrames_12821[j_13015].Field0);
if ((0 < tempFrames_12821[j_13015].Field1)) {
if (result_12807[0] != null) { result_12807[0] = (result_12807[0].slice(0, -1)).concat(makeNimstrLit(", line: ")); } else { result_12807[0] = makeNimstrLit(", line: ");};
if (result_12807[0] != null) { result_12807[0] = (result_12807[0].slice(0, -1)).concat(cstrToNimstr((tempFrames_12821[j_13015].Field1)+"")); } else { result_12807[0] = cstrToNimstr((tempFrames_12821[j_13015].Field1)+"");};
}

if (result_12807[0] != null) { result_12807[0] = (result_12807[0].slice(0, -1)).concat(makeNimstrLit("\x0A")); } else { result_12807[0] = makeNimstrLit("\x0A");};
res_13024 -= 1;
}
} while(false);
} while(false);
return result_12807[0];
}
function rawWriteStackTrace_13028() {

var result_13030 = null;
if (!((framePtr == null))) {
result_13030 = nimCopy(null, (makeNimstrLit("Traceback (most recent call last)\x0A").slice(0,-1)).concat(auxWriteStackTrace_12804(framePtr)), NTI138);
}
else {
result_13030 = nimCopy(null, makeNimstrLit("No stack traceback available\x0A"), NTI138);
}

return result_13030;
}
function unhandledException(e_13054) {

var Tmp1;
var buf_13055 = /**/[makeNimstrLit("")];
if (!!(eqStrings(e_13054.message, null))) Tmp1 = false; else {Tmp1 = !((e_13054.message[0] == 0)); }if (Tmp1) {
if (buf_13055[0] != null) { buf_13055[0] = (buf_13055[0].slice(0, -1)).concat(makeNimstrLit("Error: unhandled exception: ")); } else { buf_13055[0] = makeNimstrLit("Error: unhandled exception: ");};
if (buf_13055[0] != null) { buf_13055[0] = (buf_13055[0].slice(0, -1)).concat(e_13054.message); } else { buf_13055[0] = e_13054.message;};
}
else {
if (buf_13055[0] != null) { buf_13055[0] = (buf_13055[0].slice(0, -1)).concat(makeNimstrLit("Error: unhandled exception")); } else { buf_13055[0] = makeNimstrLit("Error: unhandled exception");};
}

if (buf_13055[0] != null) { buf_13055[0] = (buf_13055[0].slice(0, -1)).concat(makeNimstrLit(" [")); } else { buf_13055[0] = makeNimstrLit(" [");};
add_10829(buf_13055, 0, e_13054.name);
if (buf_13055[0] != null) { buf_13055[0] = (buf_13055[0].slice(0, -1)).concat(makeNimstrLit("]\x0A")); } else { buf_13055[0] = makeNimstrLit("]\x0A");};
if (buf_13055[0] != null) { buf_13055[0] = (buf_13055[0].slice(0, -1)).concat(rawWriteStackTrace_13028()); } else { buf_13055[0] = rawWriteStackTrace_13028();};
var cbuf_13201 = toJSStr(buf_13055[0]);
framePtr = null;
  if (typeof(Error) !== "undefined") {
    throw new Error(cbuf_13201);
  }
  else {
    throw cbuf_13201;
  }
  }
function raiseOverflow() {

var e_13641 = null;
e_13641 = {m_type: NTI3442, parent: null, name: null, message: null, trace: null};
e_13641.message = nimCopy(null, makeNimstrLit("over- or underflow"), NTI138);
e_13641.parent = null;
raiseException(e_13641, "OverflowError");
}
function raiseDivByZero() {

var e_13659 = null;
e_13659 = {m_type: NTI3440, parent: null, name: null, message: null, trace: null};
e_13659.message = nimCopy(null, makeNimstrLit("division by zero"), NTI138);
e_13659.parent = null;
raiseException(e_13659, "DivByZeroError");
}
var objectID_42233 = /**/[0];
var state_59605 = /**/[{a0: 1773455756, a1: 4275166512}];
function getTime_62040() {

var result_62413 = null;
var F={procname:"times.getTime",prev:framePtr,filename:"lib\\pure\\times.nim",line:0};
framePtr = F;
BeforeRet: do {
F.line = 586;
result_62413 = new Date();
break BeforeRet;
} while (false); 
framePtr = F.prev;
return result_62413;
}
var startMilsecs_62448 = /**/[getTime_62040()];
function initEventEmitter_51418() {

var result_51420 = {s: null};
var F={procname:"events.initEventEmitter",prev:framePtr,filename:"C:\\Users\\stisa\\OneDrive\\Progetti\\crow\\crow\\events.nim",line:0};
framePtr = F;
F.line = 123;
result_51420.s = nimCopy(null, [], NTI51436);
framePtr = F.prev;
return result_51420;
}
function raiseIndexError() {

var e_13695 = null;
e_13695 = {m_type: NTI3454, parent: null, name: null, message: null, trace: null};
e_13695.message = nimCopy(null, makeNimstrLit("index out of bounds"), NTI138);
e_13695.parent = null;
raiseException(e_13695, "IndexError");
}
function getEventHandler_51255(emitter_51258, event_51259) {

var result_51260 = 0;
var F={procname:"events.getEventHandler",prev:framePtr,filename:"C:\\Users\\stisa\\OneDrive\\Progetti\\crow\\crow\\events.nim",line:0};
framePtr = F;
BeforeRet: do {
L1: do {
F.line = 95;
var k_51270 = 0;
F.line = 1943;
var colontmp__51272 = 0;
F.line = 95;
colontmp__51272 = (emitter_51258.s != null ? (emitter_51258.s.length-1) : -1);
F.line = 1925;
var res_51275 = 0;
L2: do {
F.line = 1926;
L3: while (true) {
if (!(res_51275 <= colontmp__51272)) break L3;
F.line = 1927;
k_51270 = res_51275;
if (eqStrings(emitter_51258.s[chckIndx(k_51270, 0, emitter_51258.s.length)-0].Field0, event_51259)) {
F.line = 96;
result_51260 = k_51270;
break BeforeRet;
}

res_51275 = addInt(res_51275, 1);
}
} while(false);
} while(false);
F.line = 97;
result_51260 = -1;
break BeforeRet;
} while (false); 
framePtr = F.prev;
return result_51260;
}
function sysFatal_21621(message_21627) {

var F={procname:"sysFatal.sysFatal",prev:framePtr,filename:"lib\\system.nim",line:0};
framePtr = F;
F.line = 2617;
var e_21629 = null;
e_21629 = {m_type: NTI3446, parent: null, name: null, message: null, trace: null};
F.line = 2619;
e_21629.message = nimCopy(null, message_21627, NTI138);
F.line = 2620;
raiseException(e_21629, "AssertionError");
framePtr = F.prev;
}
function raiseAssert_21616(msg_21618) {

var F={procname:"system.raiseAssert",prev:framePtr,filename:"lib\\system.nim",line:0};
framePtr = F;
sysFatal_21621(msg_21618);
framePtr = F.prev;
}
function failedAssertImpl_21639(msg_21641) {

var F={procname:"system.failedAssertImpl",prev:framePtr,filename:"lib\\system.nim",line:0};
framePtr = F;
raiseAssert_21616(msg_21641);
framePtr = F.prev;
}
function emit_51302(emitter_51305, eventhandler_51307, args_51308) {

var F={procname:"events.emit",prev:framePtr,filename:"C:\\Users\\stisa\\OneDrive\\Progetti\\crow\\crow\\events.nim",line:0};
framePtr = F;
L1: do {
F.line = 113;
var fn_51402 = null;
F.line = 3542;
var colontmp__51404 = null;
F.line = 113;
colontmp__51404 = eventhandler_51307.Field1;
F.line = 3544;
var i_51407 = 0;
F.line = 3545;
var L_51409 = (colontmp__51404 != null ? colontmp__51404.length : 0);
L2: do {
F.line = 3546;
L3: while (true) {
if (!(i_51407 < L_51409)) break L3;
F.line = 3547;
fn_51402 = colontmp__51404[chckIndx(i_51407, 0, colontmp__51404.length)-0];
fn_51402(args_51308);
i_51407 = addInt(i_51407, 1);
if (!(((colontmp__51404 != null ? colontmp__51404.length : 0) == L_51409))) {
failedAssertImpl_21639(makeNimstrLit("len(a) == L seq modified while iterating over it"));
}

}
} while(false);
} while(false);
framePtr = F.prev;
}
function emit_51410(emitter_51413, event_51414, args_51415) {

var F={procname:"events.emit",prev:framePtr,filename:"C:\\Users\\stisa\\OneDrive\\Progetti\\crow\\crow\\events.nim",line:0};
framePtr = F;
F.line = 117;
var i_51416 = getEventHandler_51255(emitter_51413, event_51414);
if ((0 <= i_51416)) {
emit_51302(emitter_51413, emitter_51413.s[chckIndx(i_51416, 0, emitter_51413.s.length)-0], args_51415);
}

framePtr = F.prev;
}
function hash_42801(x_42803) {

var result_42804 = 0;
var F={procname:"hashes.hash",prev:framePtr,filename:"lib\\pure\\hashes.nim",line:0};
framePtr = F;
F.line = 109;
result_42804 = x_42803;
framePtr = F.prev;
return result_42804;
}
function isFilled_45465(hcode_45467) {

var result_45468 = false;
var F={procname:"tables.isFilled",prev:framePtr,filename:"lib\\pure\\collections\\tableimpl.nim",line:0};
framePtr = F;
F.line = 18;
result_45468 = !((hcode_45467 == 0));
framePtr = F.prev;
return result_45468;
}
function nextTry_45601(h_45603, maxHash_45604) {

var result_45605 = 0;
var F={procname:"tables.nextTry",prev:framePtr,filename:"lib\\pure\\collections\\tableimpl.nim",line:0};
framePtr = F;
F.line = 28;
result_45605 = (addInt(h_45603, 1) & maxHash_45604);
framePtr = F.prev;
return result_45605;
}
function rawGet_49460(t_49465, key_49467, hc_49469, hc_49469_Idx) {

var Tmp3;
var result_49470 = 0;
var F={procname:"rawGet.rawGet",prev:framePtr,filename:"lib\\pure\\collections\\tableimpl.nim",line:0};
framePtr = F;
BeforeRet: do {
F.line = 43;
hc_49469[hc_49469_Idx] = hash_42801(key_49467);
if ((hc_49469[hc_49469_Idx] == 0)) {
F.line = 45;
hc_49469[hc_49469_Idx] = 314159265;
}

F.line = 31;
var h_49472 = (hc_49469[hc_49469_Idx] & (t_49465.data != null ? (t_49465.data.length-1) : -1));
L1: do {
F.line = 32;
L2: while (true) {
if (!isFilled_45465(t_49465.data[chckIndx(h_49472, 0, t_49465.data.length)-0].Field0)) break L2;
if (!(t_49465.data[chckIndx(h_49472, 0, t_49465.data.length)-0].Field0 == hc_49469[hc_49469_Idx])) Tmp3 = false; else {Tmp3 = (t_49465.data[chckIndx(h_49472, 0, t_49465.data.length)-0].Field1 == key_49467); }if (Tmp3) {
F.line = 38;
result_49470 = h_49472;
break BeforeRet;
}

F.line = 39;
h_49472 = nextTry_45601(h_49472, (t_49465.data != null ? (t_49465.data.length-1) : -1));
}
} while(false);
F.line = 75;
result_49470 = subInt(-1, h_49472);
} while (false); 
framePtr = F.prev;
return result_49470;
}
function X5BX5D__49630(t_49636, key_49638) {

var result_49639 = 0;
var F={procname:"[].[]",prev:framePtr,filename:"lib\\pure\\collections\\tables.nim",line:0};
framePtr = F;
F.line = 146;
var hc_49641 = [0];
F.line = 147;
var index_49656 = rawGet_49460(t_49636, key_49638, hc_49641, 0);
if ((0 <= index_49656)) {
F.line = 148;
result_49639 = t_49636.data[chckIndx(index_49656, 0, t_49636.data.length)-0].Field2;
}
else {
F.line = 151;
F.line = 2597;
var e_49806 = null;
e_49806 = {m_type: NTI3450, parent: null, name: null, message: null, trace: null};
F.line = 2599;
e_49806.message = nimCopy(null, (makeNimstrLit("key not found: ").slice(0,-1)).concat(cstrToNimstr((key_49638)+"")), NTI138);
F.line = 2600;
e_49806.parent = null;
raiseException(e_49806, "KeyError");
}

framePtr = F.prev;
return result_49639;
}
function toJSKC_49625(k_49627) {

var result_49628 = 0;
var F={procname:"keymap.toJSKC",prev:framePtr,filename:"C:\\Users\\stisa\\OneDrive\\Progetti\\crow\\crow\\keymap.nim",line:0};
framePtr = F;
F.line = 231;
result_49628 = X5BX5D__49630({data: [{Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 260, Field1: 260, Field2: 55}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 8, Field1: 8, Field2: 54}, {Field0: 9, Field1: 9, Field2: 53}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 13, Field1: 13, Field2: 52}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 16, Field1: 16, Field2: 112}, {Field0: 17, Field1: 17, Field2: 113}, {Field0: 18, Field1: 18, Field2: 114}, {Field0: 19, Field1: 19, Field2: 69}, {Field0: 20, Field1: 20, Field2: 65}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 27, Field1: 27, Field2: 51}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 32, Field1: 32, Field2: 1}, {Field0: 33, Field1: 33, Field2: 61}, {Field0: 34, Field1: 34, Field2: 62}, {Field0: 35, Field1: 35, Field2: 64}, {Field0: 36, Field1: 36, Field2: 63}, {Field0: 37, Field1: 37, Field2: 58}, {Field0: 38, Field1: 38, Field2: 60}, {Field0: 39, Field1: 39, Field2: 57}, {Field0: 40, Field1: 40, Field2: 59}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 44, Field1: 44, Field2: 68}, {Field0: 45, Field1: 45, Field2: 4}, {Field0: 46, Field1: 46, Field2: 56}, {Field0: 47, Field1: 47, Field2: 6}, {Field0: 48, Field1: 48, Field2: 7}, {Field0: 49, Field1: 49, Field2: 8}, {Field0: 50, Field1: 50, Field2: 9}, {Field0: 51, Field1: 51, Field2: 10}, {Field0: 52, Field1: 52, Field2: 11}, {Field0: 53, Field1: 53, Field2: 12}, {Field0: 54, Field1: 54, Field2: 13}, {Field0: 55, Field1: 55, Field2: 14}, {Field0: 56, Field1: 56, Field2: 15}, {Field0: 57, Field1: 57, Field2: 16}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 59, Field1: 59, Field2: 17}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 61, Field1: 61, Field2: 18}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 65, Field1: 65, Field2: 19}, {Field0: 66, Field1: 66, Field2: 20}, {Field0: 67, Field1: 67, Field2: 21}, {Field0: 68, Field1: 68, Field2: 22}, {Field0: 69, Field1: 69, Field2: 23}, {Field0: 70, Field1: 70, Field2: 24}, {Field0: 71, Field1: 71, Field2: 25}, {Field0: 72, Field1: 72, Field2: 26}, {Field0: 73, Field1: 73, Field2: 27}, {Field0: 74, Field1: 74, Field2: 28}, {Field0: 75, Field1: 75, Field2: 29}, {Field0: 76, Field1: 76, Field2: 30}, {Field0: 77, Field1: 77, Field2: 31}, {Field0: 78, Field1: 78, Field2: 32}, {Field0: 79, Field1: 79, Field2: 33}, {Field0: 80, Field1: 80, Field2: 34}, {Field0: 81, Field1: 81, Field2: 35}, {Field0: 82, Field1: 82, Field2: 36}, {Field0: 83, Field1: 83, Field2: 37}, {Field0: 84, Field1: 84, Field2: 38}, {Field0: 85, Field1: 85, Field2: 39}, {Field0: 86, Field1: 86, Field2: 40}, {Field0: 87, Field1: 87, Field2: 41}, {Field0: 88, Field1: 88, Field2: 42}, {Field0: 89, Field1: 89, Field2: 43}, {Field0: 90, Field1: 90, Field2: 44}, {Field0: 91, Field1: 91, Field2: 45}, {Field0: 92, Field1: 92, Field2: 46}, {Field0: 93, Field1: 93, Field2: 47}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 96, Field1: 96, Field2: 95}, {Field0: 97, Field1: 97, Field2: 96}, {Field0: 98, Field1: 98, Field2: 97}, {Field0: 99, Field1: 99, Field2: 98}, {Field0: 100, Field1: 100, Field2: 99}, {Field0: 101, Field1: 101, Field2: 100}, {Field0: 102, Field1: 102, Field2: 101}, {Field0: 103, Field1: 103, Field2: 102}, {Field0: 104, Field1: 104, Field2: 103}, {Field0: 105, Field1: 105, Field2: 104}, {Field0: 106, Field1: 106, Field2: 107}, {Field0: 107, Field1: 107, Field2: 109}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 109, Field1: 109, Field2: 108}, {Field0: 110, Field1: 110, Field2: 105}, {Field0: 111, Field1: 111, Field2: 106}, {Field0: 112, Field1: 112, Field2: 70}, {Field0: 113, Field1: 113, Field2: 71}, {Field0: 114, Field1: 114, Field2: 72}, {Field0: 115, Field1: 115, Field2: 73}, {Field0: 116, Field1: 116, Field2: 74}, {Field0: 117, Field1: 117, Field2: 75}, {Field0: 118, Field1: 118, Field2: 76}, {Field0: 119, Field1: 119, Field2: 77}, {Field0: 120, Field1: 120, Field2: 78}, {Field0: 121, Field1: 121, Field2: 79}, {Field0: 122, Field1: 122, Field2: 80}, {Field0: 123, Field1: 123, Field2: 81}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 144, Field1: 144, Field2: 67}, {Field0: 145, Field1: 145, Field2: 66}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 314159265, Field1: 0, Field2: 0}, {Field0: 161, Field1: 161, Field2: 49}, {Field0: 162, Field1: 162, Field2: 50}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}], counter: 96}, k_49627);
framePtr = F.prev;
return result_49628;
}
function initEvents_53201() {

function keyev_53204(e_53207) {

var F={procname:"initEvents.keyev",prev:framePtr,filename:"C:\\Users\\stisa\\OneDrive\\Progetti\\crow\\crow\\events.nim",line:0};
framePtr = F;
emit_51410(result_53203[0], makeNimstrLit("keyEv"), {kind: 0, key: toJSKC_49625(e_53207.keyCode), mods: 0, button: 0, kmods: 0, pos: {Field0: 0.0, Field1: 0.0}, dt: 0.0});
framePtr = F.prev;
}
function mouseev_53211(e_53214) {

var F={procname:"initEvents.mouseev",prev:framePtr,filename:"C:\\Users\\stisa\\OneDrive\\Progetti\\crow\\crow\\events.nim",line:0};
framePtr = F;
emit_51410(result_53203[0], makeNimstrLit("click"), {kind: 2, button: 0, key: 0, mods: 0, kmods: 0, pos: {Field0: 0.0, Field1: 0.0}, dt: 0.0});
framePtr = F.prev;
}
var result_53203 = [{s: null}];
var F={procname:"events.initEvents",prev:framePtr,filename:"C:\\Users\\stisa\\OneDrive\\Progetti\\crow\\crow\\events.nim",line:0};
framePtr = F;
F.line = 146;
nimCopy(result_53203[0], initEventEmitter_51418(), NTI51036);
document.addEventListener("keypress", keyev_53204, true);
document.addEventListener("click", mouseev_53211, true);
framePtr = F.prev;
return result_53203[0];
}
var evq_84001 = /**/[initEvents_53201()];
function getContextWebgl_56261(c_56263) {

var result_56264 = null;
var F={procname:"webgl.getContextWebgl",prev:framePtr,filename:"C:\\Users\\stisa\\.nimble\\pkgs\\webgl-#head\\webgl.nim",line:0};
framePtr = F;
F.line = 430;
result_56264 = c_56263.getContext("webgl");
if ((result_56264 === null)) {
F.line = 431;
result_56264 = c_56263.getContext("experimental-webgl");
}

if (!(!((result_56264 === null)))) {
failedAssertImpl_21639(makeNimstrLit("not isNil(result) "));
}

framePtr = F.prev;
return result_56264;
}
function initWindow_57206(w_57208, h_57209) {

var Tmp1;
var result_57210 = {ctx: null, width: 0, height: 0};
var F={procname:"windows.initWindow",prev:framePtr,filename:"C:\\Users\\stisa\\OneDrive\\Progetti\\crow\\crow\\windows.nim",line:0};
framePtr = F;
F.line = 18;
var canvas_57211 = document.getElementById("niwe-canvas");
if (!((w_57208 == -1))) Tmp1 = true; else {Tmp1 = !((h_57209 == -1)); }if (Tmp1) {
F.line = 20;
canvas_57211.width = w_57208;
F.line = 21;
canvas_57211.height = h_57209;
}

F.line = 23;
result_57210.ctx = getContextWebgl_56261(canvas_57211);
F.line = 24;
result_57210.width = canvas_57211.clientWidth;
F.line = 25;
result_57210.height = canvas_57211.clientHeight;
framePtr = F.prev;
return result_57210;
}
var w_84002 = /**/[initWindow_57206(-1, -1)];
function resize_56439(canvas_56441) {

var Tmp1;
var F={procname:"webgl.resize",prev:framePtr,filename:"C:\\Users\\stisa\\.nimble\\pkgs\\webgl-#head\\webgl.nim",line:0};
framePtr = F;
if (!((canvas_56441.width == canvas_56441.clientWidth))) Tmp1 = true; else {Tmp1 = !((canvas_56441.height == canvas_56441.clientHeight)); }if (Tmp1) {
F.line = 460;
canvas_56441.width = canvas_56441.clientWidth;
F.line = 461;
canvas_56441.height = canvas_56441.clientHeight;
}

framePtr = F.prev;
}
function getStatus_56429(gl_56431, what_56432) {

var result_56433 = false;
var F={procname:"webgl.getStatus",prev:framePtr,filename:"C:\\Users\\stisa\\.nimble\\pkgs\\webgl-#head\\webgl.nim",line:0};
framePtr = F;
F.line = 451;
result_56433 = gl_56431.getShaderParameter(what_56432, gl_56431.COMPILE_STATUS);framePtr = F.prev;
return result_56433;
}
function shader_70083(gl_70085, typ_70086, src_70087) {

var result_70088 = {source: null, s: null, kind: 0};
var F={procname:"gl.shader",prev:framePtr,filename:"C:\\Users\\stisa\\OneDrive\\Progetti\\crow\\crow\\gl.nim",line:0};
framePtr = F;
if ((typ_70086 == 1)) {
F.line = 42;
result_70088.s = gl_70085.createShader(35633);
}
else {
if ((typ_70086 == 0)) {
F.line = 44;
result_70088.s = gl_70085.createShader(35632);
}
else {
console.log("Unknown Shader Type");
}
}
gl_70085.shaderSource(result_70088.s, toJSStr(src_70087));
gl_70085.compileShader(result_70088.s);
if (!(getStatus_56429(gl_70085, result_70088.s))) {
console.log(gl_70085.getShaderInfoLog(result_70088.s));
}

F.line = 49;
result_70088.kind = typ_70086;
F.line = 50;
result_70088.source = nimCopy(null, src_70087, NTI138);
framePtr = F.prev;
return result_70088;
}
function getStatus_56434(gl_56436, what_56437) {

var result_56438 = false;
var F={procname:"webgl.getStatus",prev:framePtr,filename:"C:\\Users\\stisa\\.nimble\\pkgs\\webgl-#head\\webgl.nim",line:0};
framePtr = F;
F.line = 453;
result_56438 = gl_56436.getProgramParameter(what_56437, gl_56436.LINK_STATUS);framePtr = F.prev;
return result_56438;
}
function program_70131(gl_70133, useIt_70134, vertex_src_70135, fragment_src_70136) {

var result_70137 = {p: null, vertex: {source: null, s: null, kind: 0}, fragment: {source: null, s: null, kind: 0}, colors: null, attributes: null};
var F={procname:"gl.program",prev:framePtr,filename:"C:\\Users\\stisa\\OneDrive\\Progetti\\crow\\crow\\gl.nim",line:0};
framePtr = F;
BeforeRet: do {
F.line = 55;
var program_70138 = gl_70133.createProgram();
F.line = 56;
var vs_70139 = shader_70083(gl_70133, 1, vertex_src_70135);
F.line = 57;
var fs_70140 = shader_70083(gl_70133, 0, fragment_src_70136);
gl_70133.attachShader(program_70138, vs_70139.s);
gl_70133.attachShader(program_70138, fs_70140.s);
gl_70133.linkProgram(program_70138);
F.line = 62;
nimCopy(result_70137.vertex, vs_70139, NTI70006);
F.line = 63;
nimCopy(result_70137.fragment, fs_70140, NTI70006);
if (!(getStatus_56434(gl_70133, program_70138))) {
console.log(gl_70133.getProgramInfoLog(program_70138));
F.line = 67;
break BeforeRet;
}

if (useIt_70134) {
gl_70133.useProgram(program_70138);
}

F.line = 69;
result_70137.p = program_70138;
} while (false); 
framePtr = F.prev;
return result_70137;
}
function clearWith_70071(gl_70073, color_70074) {

var F={procname:"gl.clearWith",prev:framePtr,filename:"C:\\Users\\stisa\\OneDrive\\Progetti\\crow\\crow\\gl.nim",line:0};
framePtr = F;
gl_70073.clearColor(color_70074.Field0, color_70074.Field1, color_70074.Field2, color_70074.Field3);
gl_70073.clear(16384);
framePtr = F.prev;
}
function newSeq_75018(len_75022) {

var result_75024 = null;
var F={procname:"newSeq.newSeq",prev:framePtr,filename:"lib\\system.nim",line:0};
framePtr = F;
result_75024 = new Array(len_75022); for (var i=0;i<len_75022;++i) {result_75024[i]={m_type: NTI74020, size: {Field0: 0.0, Field1: 0.0}, color: {Field0: 0.0, Field1: 0.0, Field2: 0.0, Field3: 0.0}, pos: {Field0: 0.0, Field1: 0.0}, scale: 0.0, rot: 0.0, origin: {Field0: 0.0, Field1: 0.0}, centered: false, filled: false, verts: null};}framePtr = F.prev;
return result_75024;
}
function newSeq_75056(len_75060) {

var result_75062 = null;
var F={procname:"newSeq.newSeq",prev:framePtr,filename:"lib\\system.nim",line:0};
framePtr = F;
result_75062 = new Array(len_75060); for (var i=0;i<len_75060;++i) {result_75062[i]={m_type: NTI74026, radius: 0.0, color: {Field0: 0.0, Field1: 0.0, Field2: 0.0, Field3: 0.0}, pos: {Field0: 0.0, Field1: 0.0}, scale: 0.0, rot: 0.0, origin: {Field0: 0.0, Field1: 0.0}, centered: false, filled: false, verts: null};}framePtr = F.prev;
return result_75062;
}
function newSeq_75094(len_75098) {

var result_75100 = null;
var F={procname:"newSeq.newSeq",prev:framePtr,filename:"lib\\system.nim",line:0};
framePtr = F;
result_75100 = new Array(len_75098); for (var i=0;i<len_75098;++i) {result_75100[i]={m_type: NTI74029, sides: 0, bcradius: 0.0, color: {Field0: 0.0, Field1: 0.0, Field2: 0.0, Field3: 0.0}, pos: {Field0: 0.0, Field1: 0.0}, scale: 0.0, rot: 0.0, origin: {Field0: 0.0, Field1: 0.0}, centered: false, filled: false, verts: null};}framePtr = F.prev;
return result_75100;
}
function batcher_75012() {

var result_75014 = {r: null, c: null, p: null};
var F={procname:"renderer.batcher",prev:framePtr,filename:"C:\\Users\\stisa\\OneDrive\\Progetti\\crow\\crow\\renderer.nim",line:0};
framePtr = F;
F.line = 34;
nimCopy(result_75014, {r: newSeq_75018(0), c: newSeq_75056(0), p: newSeq_75094(0)}, NTI75005);
framePtr = F.prev;
return result_75014;
}
function initRenderer_75149(gl_75151, clear_75152) {

var result_75153 = {context: null, program: {p: null, vertex: {source: null, s: null, kind: 0}, fragment: {source: null, s: null, kind: 0}, colors: null, attributes: null}, buff: null, b: {r: null, c: null, p: null}};
var F={procname:"renderer.initRenderer",prev:framePtr,filename:"C:\\Users\\stisa\\OneDrive\\Progetti\\crow\\crow\\renderer.nim",line:0};
framePtr = F;
F.line = 56;
result_75153.context = gl_75151;
resize_56439(result_75153.context.canvas);
F.line = 58;
nimCopy(result_75153.program, program_70131(result_75153.context, true, makeNimstrLit("attribute vec4 aPosition;\x0Auniform mat4 uMatrix;\x0Avoid main() {\x0A  gl_Position = uMatrix*aPosition;\x0A}\x0A"), makeNimstrLit("#ifdef GL_ES\x0A  precision highp float;\x0A#endif\x0A\x0Auniform vec4 uColor;\x0Avoid main() {\x0A  gl_FragColor = uColor;\x0A}\x0A")), NTI70011);
clearWith_70071(result_75153.context, clear_75152);
F.line = 60;
result_75153.buff = result_75153.context.createBuffer();
gl_75151.viewport(0, 0, gl_75151.drawingBufferWidth, gl_75151.drawingBufferHeight);
F.line = 62;
nimCopy(result_75153.b, batcher_75012(), NTI75005);
framePtr = F.prev;
return result_75153;
}
var en_84003 = /**/[initRenderer_75149(w_84002[0].ctx, {Field0: 1.0000000000000000e+000, Field1: 1.0000000000000000e+000, Field2: 1.0000000000000000e+000, Field3: 1.0000000000000000e+000})];
var speed_84005 = /**/[{Field0: 0.0, Field1: 0.0}];
var accel_84007 = /**/[{Field0: 2.0000000000000000e+000, Field1: 2.0000000000000000e+000}];
function newSeq_74046(len_74050) {

var result_74052 = null;
var F={procname:"newSeq.newSeq",prev:framePtr,filename:"lib\\system.nim",line:0};
framePtr = F;
result_74052 = new Array(len_74050); for (var i=0;i<len_74050;++i) {result_74052[i]=0.0;}framePtr = F.prev;
return result_74052;
}
function raiseRangeError() {

var e_13677 = null;
e_13677 = {m_type: NTI3458, parent: null, name: null, message: null, trace: null};
e_13677.message = nimCopy(null, makeNimstrLit("value out of range"), NTI138);
e_13677.parent = null;
raiseException(e_13677, "RangeError");
}
function setupVertices_74038(pol_74041) {

var F={procname:"primitives.setupVertices",prev:framePtr,filename:"C:\\Users\\stisa\\OneDrive\\Progetti\\crow\\crow\\primitives.nim",line:0};
framePtr = F;
F.line = 31;
var Vecsize_74042 = 4;
if (pol_74041.filled) {
F.line = 35;
pol_74041.verts = nimCopy(null, newSeq_74046(chckRange(addInt(mulInt(2, Vecsize_74042), mulInt(pol_74041.sides, Vecsize_74042)), 0, 2147483647)), NTI74051);
F.line = 38;
pol_74041.verts[3] = (1.0000000000000000e+000 / pol_74041.scale);
L1: do {
F.line = 41;
var i_74101 = 0;
F.line = 1935;
var colontmp__74168 = 0;
F.line = 41;
colontmp__74168 = subInt((pol_74041.verts != null ? pol_74041.verts.length : 0), 1);
F.line = 1925;
var res_74171 = 4;
L2: do {
F.line = 1926;
L3: while (true) {
if (!(res_74171 <= colontmp__74168)) break L3;
F.line = 1927;
i_74101 = res_74171;
F.line = 42;
pol_74041.verts[chckIndx(i_74101, 0, pol_74041.verts.length)-0] = (pol_74041.bcradius * Math.cos(((i_74101 * 3.1415926535897931e+000) / (pol_74041.sides * 2.0000000000000000e+000))));
F.line = 44;
pol_74041.verts[chckIndx(addInt(i_74101, 1), 0, pol_74041.verts.length)-0] = (pol_74041.bcradius * Math.sin(((i_74101 * 3.1415926535897931e+000) / (pol_74041.sides * 2.0000000000000000e+000))));
F.line = 46;
pol_74041.verts[chckIndx(addInt(i_74101, 2), 0, pol_74041.verts.length)-0] = 0.0;
F.line = 47;
pol_74041.verts[chckIndx(addInt(i_74101, 3), 0, pol_74041.verts.length)-0] = (1.0000000000000000e+000 / pol_74041.scale);
res_74171 = addInt(res_74171, 4);
}
} while(false);
} while(false);
}
else {
F.line = 50;
pol_74041.verts = nimCopy(null, newSeq_74046(chckRange(mulInt(pol_74041.sides, Vecsize_74042), 0, 2147483647)), NTI74051);
L4: do {
F.line = 53;
var i_74152 = 0;
F.line = 1935;
var colontmp__74184 = 0;
F.line = 53;
colontmp__74184 = subInt((pol_74041.verts != null ? pol_74041.verts.length : 0), 1);
F.line = 1925;
var res_74187 = 0;
L5: do {
F.line = 1926;
L6: while (true) {
if (!(res_74187 <= colontmp__74184)) break L6;
F.line = 1927;
i_74152 = res_74187;
F.line = 54;
pol_74041.verts[chckIndx(i_74152, 0, pol_74041.verts.length)-0] = (pol_74041.bcradius * Math.cos(((i_74152 * 3.1415926535897931e+000) / (2.0000000000000000e+000 * pol_74041.sides))));
F.line = 55;
pol_74041.verts[chckIndx(addInt(i_74152, 1), 0, pol_74041.verts.length)-0] = (pol_74041.bcradius * Math.sin(((i_74152 * 3.1415926535897931e+000) / (2.0000000000000000e+000 * pol_74041.sides))));
F.line = 56;
pol_74041.verts[chckIndx(addInt(i_74152, 2), 0, pol_74041.verts.length)-0] = 0.0;
F.line = 57;
pol_74041.verts[chckIndx(addInt(i_74152, 3), 0, pol_74041.verts.length)-0] = (1.0000000000000000e+000 / pol_74041.scale);
res_74187 = addInt(res_74187, 4);
}
} while(false);
} while(false);
}

framePtr = F.prev;
}
function polygon_74244(x_74246, y_74247, sides_74248, boundingcircleradius_74249, filled_74250, color_74251) {

var result_74252 = [{m_type: NTI74029, sides: 0, bcradius: 0.0, color: {Field0: 0.0, Field1: 0.0, Field2: 0.0, Field3: 0.0}, pos: {Field0: 0.0, Field1: 0.0}, scale: 0.0, rot: 0.0, origin: {Field0: 0.0, Field1: 0.0}, centered: false, filled: false, verts: null}];
var F={procname:"primitives.polygon",prev:framePtr,filename:"C:\\Users\\stisa\\OneDrive\\Progetti\\crow\\crow\\primitives.nim",line:0};
framePtr = F;
if (!((3 <= sides_74248))) {
raiseAssert_21616(makeNimstrLit("\x0D\x0A  3 <= sides "));
}

F.line = 114;
nimCopy(result_74252[0].color, color_74251, NTI66002);
F.line = 115;
nimCopy(result_74252[0].pos, {Field0: x_74246, Field1: y_74247}, NTI74005);
F.line = 116;
result_74252[0].sides = sides_74248;
F.line = 117;
result_74252[0].bcradius = boundingcircleradius_74249;
F.line = 118;
result_74252[0].filled = filled_74250;
F.line = 119;
result_74252[0].scale = 1.0000000000000000e+000;
setupVertices_74038(result_74252[0]);
framePtr = F.prev;
return result_74252[0];
}
function rect_74206(x_74208, y_74209, w_74210, h_74211, color_74212, centered_74213) {

var result_74214 = {m_type: NTI74020, size: {Field0: 0.0, Field1: 0.0}, color: {Field0: 0.0, Field1: 0.0, Field2: 0.0, Field3: 0.0}, pos: {Field0: 0.0, Field1: 0.0}, scale: 0.0, rot: 0.0, origin: {Field0: 0.0, Field1: 0.0}, centered: false, filled: false, verts: null};
var F={procname:"primitives.rect",prev:framePtr,filename:"C:\\Users\\stisa\\OneDrive\\Progetti\\crow\\crow\\primitives.nim",line:0};
framePtr = F;
F.line = 76;
nimCopy(result_74214.color, color_74212, NTI66002);
F.line = 77;
nimCopy(result_74214.pos, {Field0: x_74208, Field1: y_74209}, NTI74005);
F.line = 78;
nimCopy(result_74214.size, {Field0: w_74210, Field1: h_74211}, NTI74021);
F.line = 80;
result_74214.scale = 1.0000000000000000e+000;
F.line = 81;
result_74214.centered = centered_74213;
framePtr = F.prev;
return result_74214;
}
function circle_74228(x_74230, y_74231, r_74232, color_74233) {

var result_74234 = {m_type: NTI74026, radius: 0.0, color: {Field0: 0.0, Field1: 0.0, Field2: 0.0, Field3: 0.0}, pos: {Field0: 0.0, Field1: 0.0}, scale: 0.0, rot: 0.0, origin: {Field0: 0.0, Field1: 0.0}, centered: false, filled: false, verts: null};
var F={procname:"primitives.circle",prev:framePtr,filename:"C:\\Users\\stisa\\OneDrive\\Progetti\\crow\\crow\\primitives.nim",line:0};
framePtr = F;
F.line = 93;
nimCopy(result_74234.color, color_74233, NTI66002);
F.line = 94;
nimCopy(result_74234.pos, {Field0: x_74230, Field1: y_74231}, NTI74005);
F.line = 95;
result_74234.radius = r_74232;
F.line = 96;
result_74234.scale = 1.0000000000000000e+000;
framePtr = F.prev;
return result_74234;
}
function disk_74236(x_74238, y_74239, r_74240, color_74241) {

var result_74242 = {m_type: NTI74026, radius: 0.0, color: {Field0: 0.0, Field1: 0.0, Field2: 0.0, Field3: 0.0}, pos: {Field0: 0.0, Field1: 0.0}, scale: 0.0, rot: 0.0, origin: {Field0: 0.0, Field1: 0.0}, centered: false, filled: false, verts: null};
var F={procname:"primitives.disk",prev:framePtr,filename:"C:\\Users\\stisa\\OneDrive\\Progetti\\crow\\crow\\primitives.nim",line:0};
framePtr = F;
F.line = 99;
nimCopy(result_74242.color, color_74241, NTI66002);
F.line = 100;
nimCopy(result_74242.pos, {Field0: x_74238, Field1: y_74239}, NTI74005);
F.line = 101;
result_74242.radius = r_74240;
F.line = 102;
result_74242.scale = 1.0000000000000000e+000;
F.line = 103;
result_74242.filled = true;
framePtr = F.prev;
return result_74242;
}
function box_74217(x_74219, y_74220, w_74221, h_74222, color_74223, centered_74224) {

var result_74225 = {m_type: NTI74020, size: {Field0: 0.0, Field1: 0.0}, color: {Field0: 0.0, Field1: 0.0, Field2: 0.0, Field3: 0.0}, pos: {Field0: 0.0, Field1: 0.0}, scale: 0.0, rot: 0.0, origin: {Field0: 0.0, Field1: 0.0}, centered: false, filled: false, verts: null};
var F={procname:"primitives.box",prev:framePtr,filename:"C:\\Users\\stisa\\OneDrive\\Progetti\\crow\\crow\\primitives.nim",line:0};
framePtr = F;
F.line = 84;
nimCopy(result_74225.color, color_74223, NTI66002);
F.line = 85;
nimCopy(result_74225.pos, {Field0: x_74219, Field1: y_74220}, NTI74005);
F.line = 87;
nimCopy(result_74225.size, {Field0: w_74221, Field1: h_74222}, NTI74021);
F.line = 88;
result_74225.scale = 1.0000000000000000e+000;
F.line = 89;
result_74225.centered = centered_74224;
F.line = 90;
result_74225.filled = true;
framePtr = F.prev;
return result_74225;
}
var p_84010 = /**/[polygon_74244(1.0000000000000000e+002, 1.0000000000000000e+002, 5, 1.0000000000000000e+001, true, {Field0: 0.0, Field1: 1.0000000000000000e+000, Field2: 0.0, Field3: 1.0000000000000000e+000})];
var r_84013 = /**/[rect_74206(2.0000000000000000e+002, 2.0000000000000000e+002, 1.0000000000000000e+001, 1.0000000000000000e+001, {Field0: 1.0000000000000000e+000, Field1: 0.0, Field2: 0.0, Field3: 1.0000000000000000e+000}, true)];
var c_84014 = /**/[circle_74228(5.0000000000000000e+001, 5.0000000000000000e+001, 1.0000000000000000e+001, {Field0: 1.0000000000000000e+000, Field1: 0.0, Field2: 0.0, Field3: 1.0000000000000000e+000})];
var d_84017 = /**/[disk_74236(1.5000000000000000e+002, 1.5000000000000000e+002, 1.0000000000000000e+001, {Field0: 1.0000000000000000e+000, Field1: 0.0, Field2: 0.0, Field3: 1.0000000000000000e+000})];
var b_84020 = /**/[box_74217(2.5000000000000000e+002, 2.5000000000000000e+002, 1.0000000000000000e+001, 1.0000000000000000e+001, {Field0: 1.0000000000000000e+000, Field1: 0.0, Field2: 0.0, Field3: 1.0000000000000000e+000}, true)];
function initEventHandler_51049(name_51051) {

var result_51052 = {Field0: null, Field1: null};
var F={procname:"events.initEventHandler",prev:framePtr,filename:"C:\\Users\\stisa\\OneDrive\\Progetti\\crow\\crow\\events.nim",line:0};
framePtr = F;
F.line = 71;
result_51052.Field1 = nimCopy(null, [], NTI51068);
F.line = 72;
result_51052.Field0 = nimCopy(null, name_51051, NTI138);
framePtr = F.prev;
return result_51052;
}
function addHandler_51069(handler_51072, fn_51076) {

var F={procname:"events.addHandler",prev:framePtr,filename:"C:\\Users\\stisa\\OneDrive\\Progetti\\crow\\crow\\events.nim",line:0};
framePtr = F;
if (handler_51072.Field1 != null) { handler_51072.Field1.push(fn_51076); } else { handler_51072.Field1 = [fn_51076]; };
framePtr = F.prev;
}
function on_51279(emitter_51282, event_51283, fn_51287) {

var F={procname:"events.on",prev:framePtr,filename:"C:\\Users\\stisa\\OneDrive\\Progetti\\crow\\crow\\events.nim",line:0};
framePtr = F;
F.line = 102;
var i_51288 = getEventHandler_51255(emitter_51282, event_51283);
if ((i_51288 < 0)) {
F.line = 104;
var eh_51289 = /**/[initEventHandler_51049(event_51283)];
addHandler_51069(eh_51289[0], fn_51287);
if (emitter_51282.s != null) { emitter_51282.s.push(eh_51289[0]); } else { emitter_51282.s = [eh_51289[0]]; };
}
else {
addHandler_51069(emitter_51282.s[chckIndx(i_51288, 0, emitter_51282.s.length)-0], fn_51287);
}

framePtr = F.prev;
}
function pluseq__39704(x_39709, x_39709_Idx, y_39711) {

var F={procname:"+=.+=",prev:framePtr,filename:"lib\\system.nim",line:0};
framePtr = F;
F.line = 3439;
x_39709[x_39709_Idx] = (x_39709[x_39709_Idx] + y_39711);
framePtr = F.prev;
}
function pluseq__83053(lf_83059, rg_83063) {

var F={procname:"renderer.+=",prev:framePtr,filename:"C:\\Users\\stisa\\OneDrive\\Progetti\\crow\\crow\\renderer.nim",line:0};
framePtr = F;
pluseq__39704(lf_83059, "Field0", rg_83063["Field0"]);
pluseq__39704(lf_83059, "Field1", rg_83063["Field1"]);
framePtr = F.prev;
}
function colonanonymous__84032(e_84034) {

var F={procname:"ex2.:anonymous",prev:framePtr,filename:"ex2.nim",line:0};
framePtr = F;
pluseq__83053(speed_84005[0], accel_84007[0]);
framePtr = F.prev;
}
on_51279(evq_84001[0], makeNimstrLit("click"), colonanonymous__84032);
function colonanonymous__84037(e_84039) {

var F={procname:"ex2.:anonymous",prev:framePtr,filename:"ex2.nim",line:0};
framePtr = F;
pluseq__83053(p_84010[0].pos, speed_84005[0]);
framePtr = F.prev;
}
on_51279(evq_84001[0], makeNimstrLit("update"), colonanonymous__84037);
function extractProgram_70059(program_70061) {

var result_70062 = null;
var F={procname:"gl.extractProgram",prev:framePtr,filename:"C:\\Users\\stisa\\OneDrive\\Progetti\\crow\\crow\\gl.nim",line:0};
framePtr = F;
F.line = 25;
result_70062 = program_70061.p;
framePtr = F.prev;
return result_70062;
}
function X5BX5Deq__72412(m_72449, i_72451, j_72453, val_72455) {

var F={procname:"[]=.[]=",prev:framePtr,filename:"C:\\Users\\stisa\\.nimble\\pkgs\\snail-#head\\snail\\matrix.nim",line:0};
framePtr = F;
if (!((i_72451 < 4))) {
failedAssertImpl_21639(makeNimstrLit("i < N Row index out of bounds"));
}

if (!((j_72453 < 4))) {
failedAssertImpl_21639(makeNimstrLit("j < M Column index out of bounds"));
}

F.line = 36;
m_72449.data[chckIndx(addInt(mulInt(i_72451, 4), j_72453), 0, m_72449.data.length)-0] = val_72455;
framePtr = F.prev;
}
function low_76602(v_76606) {

var result_76607 = 0;
var F={procname:"low.low",prev:framePtr,filename:"C:\\Users\\stisa\\.nimble\\pkgs\\snail-#head\\snail\\vector.nim",line:0};
framePtr = F;
F.line = 84;
result_76607 = 0;
framePtr = F.prev;
return result_76607;
}
function high_76616(v_76620) {

var result_76621 = 0;
var F={procname:"high.high",prev:framePtr,filename:"C:\\Users\\stisa\\.nimble\\pkgs\\snail-#head\\snail\\vector.nim",line:0};
framePtr = F;
F.line = 85;
result_76621 = 3;
framePtr = F.prev;
return result_76621;
}
function X5BX5D__76640(v_76646, i_76648) {

var result_76649 = 0.0;
var F={procname:"[].[]",prev:framePtr,filename:"C:\\Users\\stisa\\.nimble\\pkgs\\snail-#head\\snail\\vector.nim",line:0};
framePtr = F;
F.line = 49;
result_76649 = v_76646.data[chckIndx(i_76648, 0, v_76646.data.length)-0];
framePtr = F.prev;
return result_76649;
}
function X5BX5D__76651(v_76657, i_76659) {

var result_76660 = 0.0;
var F={procname:"[].[]",prev:framePtr,filename:"C:\\Users\\stisa\\.nimble\\pkgs\\snail-#head\\snail\\vector.nim",line:0};
framePtr = F;
F.line = 49;
result_76660 = v_76657.data[chckIndx(i_76659, 0, v_76657.data.length)-0];
framePtr = F.prev;
return result_76660;
}
function dot_76417(v_76454, w_76489) {

var result_76490 = [0.0];
var F={procname:"dot.dot",prev:framePtr,filename:"C:\\Users\\stisa\\.nimble\\pkgs\\snail-#head\\snail\\vector.nim",line:0};
framePtr = F;
L1: do {
F.line = 121;
var i_76638 = 0;
F.line = 1943;
var colontmp__76672 = 0;
F.line = 1943;
var colontmp__76673 = 0;
F.line = 121;
colontmp__76672 = low_76602(v_76454);
F.line = 121;
colontmp__76673 = high_76616(v_76454);
F.line = 1925;
var res_76676 = colontmp__76672;
L2: do {
F.line = 1926;
L3: while (true) {
if (!(res_76676 <= colontmp__76673)) break L3;
F.line = 1927;
i_76638 = res_76676;
pluseq__39704(result_76490, 0, (X5BX5D__76640(v_76454, i_76638) * X5BX5D__76651(w_76489, i_76638)));
res_76676 = addInt(res_76676, 1);
}
} while(false);
} while(false);
framePtr = F.prev;
return result_76490[0];
}
function row_75622(m_75658, r_75660) {

var result_75694 = {data: null, p: [null, 0]};
var F={procname:"row.row",prev:framePtr,filename:"C:\\Users\\stisa\\.nimble\\pkgs\\snail-#head\\snail\\matrix.nim",line:0};
framePtr = F;
if (!((r_75660 < 4))) {
failedAssertImpl_21639(makeNimstrLit("r < N The matrix has less rows than the requested row index"));
}

result_75694.data = new Float64Array(4);
L1: do {
F.line = 99;
var i_76010 = 0;
F.line = 3736;
var i_76014 = 0;
L2: do {
F.line = 3737;
L3: while (true) {
if (!(i_76014 < 4)) break L3;
F.line = 3738;
i_76010 = i_76014;
F.line = 99;
result_75694.data[chckIndx(i_76010, 0, result_75694.data.length)-0] = m_75658.data[chckIndx(addInt(mulInt(r_75660, 4), i_76010), 0, m_75658.data.length)-0];
i_76014 = addInt(i_76014, 1);
}
} while(false);
} while(false);
framePtr = F.prev;
return result_75694;
}
function col_76017(m_76053, c_76055) {

var result_76089 = {data: null, p: [null, 0]};
var F={procname:"col.col",prev:framePtr,filename:"C:\\Users\\stisa\\.nimble\\pkgs\\snail-#head\\snail\\matrix.nim",line:0};
framePtr = F;
if (!((c_76055 < 4))) {
failedAssertImpl_21639(makeNimstrLit("c < M The matrix has less cols than the requested col index"));
}

result_76089.data = new Float64Array(4);
L1: do {
F.line = 112;
var i_76410 = 0;
F.line = 3736;
var i_76414 = 0;
L2: do {
F.line = 3737;
L3: while (true) {
if (!(i_76414 < 4)) break L3;
F.line = 3738;
i_76410 = i_76414;
F.line = 112;
result_76089.data[chckIndx(i_76410, 0, result_76089.data.length)-0] = m_76053.data[chckIndx(addInt(mulInt(i_76410, 4), c_76055), 0, m_76053.data.length)-0];
i_76414 = addInt(i_76414, 1);
}
} while(false);
} while(false);
framePtr = F.prev;
return result_76089;
}
function matMul_75193(m_75230, w_75263) {

var result_75295 = [{data: null}];
var F={procname:"matMul.matMul",prev:framePtr,filename:"C:\\Users\\stisa\\.nimble\\pkgs\\snail-#head\\snail\\matrix.nim",line:0};
framePtr = F;
result_75295[0].data = new Float64Array(16);
L1: do {
F.line = 133;
var r_75610 = 0;
F.line = 3736;
var i_76734 = 0;
L2: do {
F.line = 3737;
L3: while (true) {
if (!(i_76734 < 4)) break L3;
F.line = 3738;
r_75610 = i_76734;
L4: do {
F.line = 134;
var c_75620 = 0;
F.line = 3736;
var i_76730 = 0;
L5: do {
F.line = 3737;
L6: while (true) {
if (!(i_76730 < 4)) break L6;
F.line = 3738;
c_75620 = i_76730;
X5BX5Deq__72412(result_75295[0], r_75610, c_75620, dot_76417(row_75622(m_75230, r_75610), col_76017(w_75263, c_75620)));
i_76730 = addInt(i_76730, 1);
}
} while(false);
} while(false);
i_76734 = addInt(i_76734, 1);
}
} while(false);
} while(false);
framePtr = F.prev;
return result_75295[0];
}
function identity_72163() {

var result_72201 = [{data: null}];
var F={procname:"identity.identity",prev:framePtr,filename:"C:\\Users\\stisa\\.nimble\\pkgs\\snail-#head\\snail\\matrix.nim",line:0};
framePtr = F;
result_72201[0].data = new Float64Array(16);
L1: do {
F.line = 90;
var i_72410 = 0;
F.line = 3736;
var i_72806 = 0;
L2: do {
F.line = 3737;
L3: while (true) {
if (!(i_72806 < 4)) break L3;
F.line = 3738;
i_72410 = i_72806;
X5BX5Deq__72412(result_72201[0], i_72410, i_72410, 1.0000000000000000e+000);
i_72806 = addInt(i_72806, 1);
}
} while(false);
} while(false);
framePtr = F.prev;
return result_72201[0];
}
function degToRad_72824(d_72828) {

var result_72829 = 0.0;
result_72829 = (d_72828 * 1.7453292519943295e-002);
return result_72829;
}
function toMatrix_71204(arr_71224) {

var result_71262 = {data: null};
var F={procname:"toMatrix.toMatrix",prev:framePtr,filename:"C:\\Users\\stisa\\.nimble\\pkgs\\snail-#head\\snail\\matrix.nim",line:0};
framePtr = F;
result_71262.data = new Float64Array(16);
if (!(true)) {
failedAssertImpl_21639(makeNimstrLit("\x0D\x0A  true "));
}

if (false) {
L1: do {
F.line = 67;
var i_71814 = 0;
F.line = 1925;
var res_71818 = 0;
L2: do {
F.line = 1926;
L3: while (true) {
if (!(res_71818 <= 15)) break L3;
F.line = 1927;
i_71814 = chckRange(res_71818, 0, 15);
F.line = 67;
result_71262.data[chckIndx(i_71814, 0, result_71262.data.length)-0] = arr_71224[chckIndx(i_71814, 0, arr_71224.length)-0];
res_71818 = addInt(res_71818, 1);
}
} while(false);
} while(false);
}
else {
F.line = 69;
nimCopy(result_71262.data, arr_71224, NTI71211);
}

framePtr = F.prev;
return result_71262;
}
function rotation_72117(phi_72123, theta_72125) {

var result_72159 = {data: null};
var F={procname:"rotation.rotation",prev:framePtr,filename:"C:\\Users\\stisa\\.nimble\\pkgs\\snail-#head\\snail\\graphic.nim",line:0};
framePtr = F;
BeforeRet: do {
if ((phi_72123 == 0.0)) {
F.line = 46;
nimCopy(result_72159, identity_72163(), NTI72172);
break BeforeRet;
}

if (false) {
raiseAssert_21616(makeNimstrLit("true "));
}

F.line = 49;
var resarr_72822 = new Float64Array(16);
F.line = 50;
var ra_72831 = degToRad_72824(phi_72123);
F.line = 51;
var s_72832 = Math.sin(ra_72831);
F.line = 52;
var c_72833 = Math.cos(ra_72831);
F.line = 54;
resarr_72822[0] = c_72833;
F.line = 55;
resarr_72822[1] = s_72832;
F.line = 56;
resarr_72822[4] = -(s_72832);
F.line = 57;
resarr_72822[5] = c_72833;
F.line = 58;
resarr_72822[10] = 1.0000000000000000e+000;
F.line = 59;
resarr_72822[15] = 1.0000000000000000e+000;
F.line = 61;
nimCopy(result_72159, toMatrix_71204(resarr_72822), NTI71233);
} while (false); 
framePtr = F.prev;
return result_72159;
}
function rotation_72107(phi_72109, theta_72110) {

var result_72114 = {data: null};
var F={procname:"graphic.rotation",prev:framePtr,filename:"C:\\Users\\stisa\\.nimble\\pkgs\\snail-#head\\snail\\graphic.nim",line:0};
framePtr = F;
F.line = 64;
nimCopy(result_72114, rotation_72117(phi_72109, theta_72110), NTI72130);
framePtr = F.prev;
return result_72114;
}
function translation_71876(x_71882, y_71884, z_71886) {

var Tmp1;
var result_71920 = {data: null};
var F={procname:"translation.translation",prev:framePtr,filename:"C:\\Users\\stisa\\.nimble\\pkgs\\snail-#head\\snail\\graphic.nim",line:0};
framePtr = F;
if (!true) Tmp1 = false; else {Tmp1 = true; }if (!(Tmp1)) {
raiseAssert_21616(makeNimstrLit("\x0D\x0A  true and true be careful with implicit conversions from int to float"));
}

F.line = 24;
var resarr_71923 = new Float64Array(16);
F.line = 25;
resarr_71923[0] = 1.0000000000000000e+000;
F.line = 26;
resarr_71923[5] = 1.0000000000000000e+000;
F.line = 27;
resarr_71923[10] = 1.0000000000000000e+000;
F.line = 33;
resarr_71923[12] = x_71882;
F.line = 34;
resarr_71923[13] = y_71884;
F.line = 35;
resarr_71923[14] = z_71886;
F.line = 36;
resarr_71923[15] = 1.0000000000000000e+000;
F.line = 38;
nimCopy(result_71920, toMatrix_71204(resarr_71923), NTI71233);
framePtr = F.prev;
return result_71920;
}
function translation_71865(x_71867, y_71868, z_71869) {

var result_71873 = {data: null};
var F={procname:"graphic.translation",prev:framePtr,filename:"C:\\Users\\stisa\\.nimble\\pkgs\\snail-#head\\snail\\graphic.nim",line:0};
framePtr = F;
F.line = 42;
nimCopy(result_71873, translation_71876(x_71867, y_71868, z_71869), NTI71891);
framePtr = F.prev;
return result_71873;
}
function projection_71047(w_71053, h_71055) {

var result_71089 = {data: null};
var F={procname:"projection.projection",prev:framePtr,filename:"C:\\Users\\stisa\\.nimble\\pkgs\\snail-#head\\snail\\graphic.nim",line:0};
framePtr = F;
F.line = 6;
var resarr_71092 = new Float64Array(16);
if (false) {
raiseAssert_21616(makeNimstrLit("true "));
}

F.line = 8;
resarr_71092[0] = (2.0000000000000000e+000 / w_71053);
F.line = 9;
resarr_71092[5] = (-2.0000000000000000e+000 / h_71055);
F.line = 10;
resarr_71092[10] = 1.0000000000000000e+000;
F.line = 12;
resarr_71092[12] = -1.0000000000000000e+000;
F.line = 13;
resarr_71092[13] = 1.0000000000000000e+000;
F.line = 14;
resarr_71092[14] = 1.0000000000000000e+000;
F.line = 15;
resarr_71092[15] = 1.0000000000000000e+000;
F.line = 16;
nimCopy(result_71089, toMatrix_71204(resarr_71092), NTI71233);
framePtr = F.prev;
return result_71089;
}
function projection_71037(w_71039, h_71040) {

var result_71044 = {data: null};
var F={procname:"graphic.projection",prev:framePtr,filename:"C:\\Users\\stisa\\.nimble\\pkgs\\snail-#head\\snail\\graphic.nim",line:0};
framePtr = F;
F.line = 19;
nimCopy(result_71044, projection_71047(w_71039, h_71040), NTI71060);
framePtr = F.prev;
return result_71044;
}
function setMatrixUnif_75181(eng_75183, rend_75184, uniform_75185) {

var F={procname:"renderer.setMatrixUnif",prev:framePtr,filename:"C:\\Users\\stisa\\OneDrive\\Progetti\\crow\\crow\\renderer.nim",line:0};
framePtr = F;
F.line = 81;
var w_75186 = eng_75183.context.drawingBufferWidth;
F.line = 82;
var h_75187 = eng_75183.context.drawingBufferHeight;
F.line = 84;
var uMatLoc_75188 = eng_75183.context.getUniformLocation(extractProgram_70059(eng_75183.program), toJSStr(uniform_75185));
F.line = 86;
var mat_76951 = matMul_75193(matMul_75193(matMul_75193(rotation_72107(rend_75184.rot, 0.0), translation_71865(rend_75184.pos.Field0, rend_75184.pos.Field1, 0.0)), translation_71865(rend_75184.origin.Field0, rend_75184.origin.Field1, 0.0)), projection_71037(w_75186, h_75187));
eng_75183.context.uniformMatrix4fv(uMatLoc_75188, false, new Float32Array(mat_76951.data));
framePtr = F.prev;
}
function uploadVertices_70218(gl_70220, buff_70221, vertices_70223, drawMode_70224) {

var F={procname:"gl.uploadVertices",prev:framePtr,filename:"C:\\Users\\stisa\\OneDrive\\Progetti\\crow\\crow\\gl.nim",line:0};
framePtr = F;
gl_70220.bindBuffer(34962, buff_70221);
gl_70220.bufferData(34962, new Float32Array(vertices_70223), drawMode_70224);
gl_70220.bindBuffer(34962, buff_70221);
framePtr = F.prev;
}
function bindColor_70173(gl_70175, program_70176, colorname_70177, color_70178) {

var F={procname:"gl.bindColor",prev:framePtr,filename:"C:\\Users\\stisa\\OneDrive\\Progetti\\crow\\crow\\gl.nim",line:0};
framePtr = F;
F.line = 81;
var uloc_70179 = gl_70175.getUniformLocation(extractProgram_70059(program_70176), toJSStr(colorname_70177));
gl_70175.uniform4fv(uloc_70179, new Float32Array([color_70178.Field0, color_70178.Field1, color_70178.Field2, color_70178.Field3]));
framePtr = F.prev;
}
function enableAttribute_70193(gl_70195, program_70196, attribname_70197, itemSize_70198) {

var F={procname:"gl.enableAttribute",prev:framePtr,filename:"C:\\Users\\stisa\\OneDrive\\Progetti\\crow\\crow\\gl.nim",line:0};
framePtr = F;
F.line = 86;
var aloc_70199 = gl_70195.getAttribLocation(extractProgram_70059(program_70196), toJSStr(attribname_70197));
gl_70195.enableVertexAttribArray(aloc_70199);
gl_70195.vertexAttribPointer(aloc_70199, itemSize_70198, 5126, false, 0, 0);
framePtr = F.prev;
}
function drawTriangles_70258(gl_70260, buff_70261, p_70262, vertices_70264, color_70265, drawMode_70266) {

var F={procname:"gl.drawTriangles",prev:framePtr,filename:"C:\\Users\\stisa\\OneDrive\\Progetti\\crow\\crow\\gl.nim",line:0};
framePtr = F;
uploadVertices_70218(gl_70260, buff_70261, vertices_70264, drawMode_70266);
F.line = 103;
var numvertices_70275 = divInt((vertices_70264 != null ? vertices_70264.length : 0), 4);
bindColor_70173(gl_70260, p_70262, makeNimstrLit("uColor"), color_70265);
enableAttribute_70193(gl_70260, p_70262, makeNimstrLit("aPosition"), 4);
gl_70260.drawArrays(4, 0, numvertices_70275);
gl_70260.flush();
framePtr = F.prev;
}
function drawTriangles_75160(eng_75162, vertices_75164, color_75165, drawMode_75166) {

var F={procname:"renderer.drawTriangles",prev:framePtr,filename:"C:\\Users\\stisa\\OneDrive\\Progetti\\crow\\crow\\renderer.nim",line:0};
framePtr = F;
drawTriangles_70258(eng_75162.context, eng_75162.buff, eng_75162.program, vertices_75164, color_75165, drawMode_75166);
framePtr = F.prev;
}
function drawB_76994(eng_76996, rect_76997) {

var F={procname:"renderer.drawB",prev:framePtr,filename:"C:\\Users\\stisa\\OneDrive\\Progetti\\crow\\crow\\renderer.nim",line:0};
framePtr = F;
setMatrixUnif_75181(eng_76996, rect_76997, makeNimstrLit("uMatrix"));
if (rect_76997.centered) {
F.line = 124;
var hw_76999 = (rect_76997.size.Field0 / 2.0000000000000000e+000);
F.line = 125;
var hh_77001 = (rect_76997.size.Field1 / 2.0000000000000000e+000);
drawTriangles_75160(eng_76996, [-(hw_76999), -(hh_77001), 0.0, (1.0000000000000000e+000 / rect_76997.scale), hw_76999, -(hh_77001), 0.0, (1.0000000000000000e+000 / rect_76997.scale), -(hw_76999), hh_77001, 0.0, (1.0000000000000000e+000 / rect_76997.scale), -(hw_76999), hh_77001, 0.0, (1.0000000000000000e+000 / rect_76997.scale), hw_76999, hh_77001, 0.0, (1.0000000000000000e+000 / rect_76997.scale), hw_76999, -(hh_77001), 0.0, (1.0000000000000000e+000 / rect_76997.scale)], rect_76997.color, 35048);
}
else {
drawTriangles_75160(eng_76996, [0.0, 0.0, 0.0, (1.0000000000000000e+000 / rect_76997.scale), rect_76997.size.Field0, 0.0, 0.0, (1.0000000000000000e+000 / rect_76997.scale), rect_76997.size.Field0, rect_76997.size.Field1, 0.0, (1.0000000000000000e+000 / rect_76997.scale), rect_76997.size.Field0, rect_76997.size.Field1, 0.0, (1.0000000000000000e+000 / rect_76997.scale), 0.0, rect_76997.size.Field1, 0.0, (1.0000000000000000e+000 / rect_76997.scale), 0.0, 0.0, 0.0, (1.0000000000000000e+000 / rect_76997.scale)], rect_76997.color, 35048);
}

framePtr = F.prev;
}
function drawLineLoop_70318(gl_70320, buff_70321, p_70322, vertices_70324, color_70325, drawMode_70326) {

var F={procname:"gl.drawLineLoop",prev:framePtr,filename:"C:\\Users\\stisa\\OneDrive\\Progetti\\crow\\crow\\gl.nim",line:0};
framePtr = F;
uploadVertices_70218(gl_70320, buff_70321, vertices_70324, drawMode_70326);
F.line = 122;
var numvertices_70335 = divInt((vertices_70324 != null ? vertices_70324.length : 0), 4);
bindColor_70173(gl_70320, p_70322, makeNimstrLit("uColor"), color_70325);
enableAttribute_70193(gl_70320, p_70322, makeNimstrLit("aPosition"), 4);
gl_70320.drawArrays(2, 0, numvertices_70335);
gl_70320.flush();
framePtr = F.prev;
}
function drawLineLoop_75174(eng_75176, vertices_75178, color_75179, drawMode_75180) {

var F={procname:"renderer.drawLineLoop",prev:framePtr,filename:"C:\\Users\\stisa\\OneDrive\\Progetti\\crow\\crow\\renderer.nim",line:0};
framePtr = F;
drawLineLoop_70318(eng_75176.context, eng_75176.buff, eng_75176.program, vertices_75178, color_75179, drawMode_75180);
framePtr = F.prev;
}
function drawR_76957(eng_76959, rect_76960) {

var F={procname:"renderer.drawR",prev:framePtr,filename:"C:\\Users\\stisa\\OneDrive\\Progetti\\crow\\crow\\renderer.nim",line:0};
framePtr = F;
setMatrixUnif_75181(eng_76959, rect_76960, makeNimstrLit("uMatrix"));
if (rect_76960.centered) {
F.line = 100;
var hw_76962 = (rect_76960.size.Field0 / 2.0000000000000000e+000);
F.line = 101;
var hh_76964 = (rect_76960.size.Field1 / 2.0000000000000000e+000);
drawLineLoop_75174(eng_76959, [-(hw_76962), -(hh_76964), 0.0, (1.0000000000000000e+000 / rect_76960.scale), hw_76962, -(hh_76964), 0.0, (1.0000000000000000e+000 / rect_76960.scale), hw_76962, hh_76964, 0.0, (1.0000000000000000e+000 / rect_76960.scale), -(hw_76962), hh_76964, 0.0, (1.0000000000000000e+000 / rect_76960.scale)], rect_76960.color, 35044);
}
else {
drawLineLoop_75174(eng_76959, [0.0, 0.0, 0.0, (1.0000000000000000e+000 / rect_76960.scale), rect_76960.size.Field0, 0.0, 0.0, (1.0000000000000000e+000 / rect_76960.scale), rect_76960.size.Field0, rect_76960.size.Field1, 0.0, (1.0000000000000000e+000 / rect_76960.scale), 0.0, rect_76960.size.Field1, 0.0, (1.0000000000000000e+000 / rect_76960.scale)], rect_76960.color, 35044);
}

framePtr = F.prev;
}
function draw_77183(r_77185, rect_77186) {

var F={procname:"renderer.draw",prev:framePtr,filename:"C:\\Users\\stisa\\OneDrive\\Progetti\\crow\\crow\\renderer.nim",line:0};
framePtr = F;
if (rect_77186.filled) {
drawB_76994(r_77185, rect_77186);
}
else {
drawR_76957(r_77185, rect_77186);
}

framePtr = F.prev;
}
function slash__20807(x_20809, y_20810) {

var result_20811 = 0.0;
var F={procname:"system./",prev:framePtr,filename:"lib\\system.nim",line:0};
framePtr = F;
F.line = 3289;
result_20811 = (x_20809 / y_20810);
framePtr = F.prev;
return result_20811;
}
function drawTriangleFan_70288(gl_70290, buff_70291, p_70292, vertices_70294, color_70295, drawMode_70296) {

var F={procname:"gl.drawTriangleFan",prev:framePtr,filename:"C:\\Users\\stisa\\OneDrive\\Progetti\\crow\\crow\\gl.nim",line:0};
framePtr = F;
uploadVertices_70218(gl_70290, buff_70291, vertices_70294, drawMode_70296);
F.line = 112;
var numvertices_70305 = divInt((vertices_70294 != null ? vertices_70294.length : 0), 4);
bindColor_70173(gl_70290, p_70292, makeNimstrLit("uColor"), color_70295);
enableAttribute_70193(gl_70290, p_70292, makeNimstrLit("aPosition"), 4);
gl_70290.drawArrays(6, 0, numvertices_70305);
gl_70290.flush();
framePtr = F.prev;
}
function drawTriangleFan_75167(eng_75169, vertices_75171, color_75172, drawMode_75173) {

var F={procname:"renderer.drawTriangleFan",prev:framePtr,filename:"C:\\Users\\stisa\\OneDrive\\Progetti\\crow\\crow\\renderer.nim",line:0};
framePtr = F;
drawTriangleFan_70288(eng_75169.context, eng_75169.buff, eng_75169.program, vertices_75171, color_75172, drawMode_75173);
framePtr = F.prev;
}
function drawD_77031(eng_77033, circle_77034, roughness_77035) {

var F={procname:"renderer.drawD",prev:framePtr,filename:"C:\\Users\\stisa\\OneDrive\\Progetti\\crow\\crow\\renderer.nim",line:0};
framePtr = F;
setMatrixUnif_75181(eng_77033, circle_77034, makeNimstrLit("uMatrix"));
F.line = 153;
var verts_77064 = newSeq_74046(chckRange(addInt(4, mulInt(mulInt(roughness_77035, 4), 2)), 0, 2147483647));
F.line = 156;
verts_77064[3] = (1.0000000000000000e+000 / circle_77034.scale);
L1: do {
F.line = 158;
var i_77085 = 0;
F.line = 1935;
var colontmp__77097 = 0;
F.line = 158;
colontmp__77097 = subInt((verts_77064 != null ? verts_77064.length : 0), 1);
F.line = 1925;
var res_77100 = 4;
L2: do {
F.line = 1926;
L3: while (true) {
if (!(res_77100 <= colontmp__77097)) break L3;
F.line = 1927;
i_77085 = res_77100;
F.line = 159;
verts_77064[chckIndx(i_77085, 0, verts_77064.length)-0] = (circle_77034.radius * Math.cos((((slash__20807(i_77085, 4) * 2.0000000000000000e+000) * 3.1415926535897931e+000) / roughness_77035)));
F.line = 160;
verts_77064[chckIndx(addInt(i_77085, 1), 0, verts_77064.length)-0] = (circle_77034.radius * Math.sin((((slash__20807(i_77085, 4) * 2.0000000000000000e+000) * 3.1415926535897931e+000) / roughness_77035)));
F.line = 161;
verts_77064[chckIndx(addInt(i_77085, 2), 0, verts_77064.length)-0] = 0.0;
F.line = 162;
verts_77064[chckIndx(addInt(i_77085, 3), 0, verts_77064.length)-0] = (1.0000000000000000e+000 / circle_77034.scale);
res_77100 = addInt(res_77100, 4);
}
} while(false);
} while(false);
drawTriangleFan_75167(eng_77033, verts_77064, circle_77034.color, 35048);
framePtr = F.prev;
}
function drawC_77104(eng_77106, circle_77107, roughness_77108) {

var F={procname:"renderer.drawC",prev:framePtr,filename:"C:\\Users\\stisa\\OneDrive\\Progetti\\crow\\crow\\renderer.nim",line:0};
framePtr = F;
setMatrixUnif_75181(eng_77106, circle_77107, makeNimstrLit("uMatrix"));
F.line = 169;
var verts_77137 = newSeq_74046(chckRange(mulInt(roughness_77108, 4), 0, 2147483647));
L1: do {
F.line = 172;
var i_77157 = 0;
F.line = 1935;
var colontmp__77172 = 0;
F.line = 172;
colontmp__77172 = subInt((verts_77137 != null ? verts_77137.length : 0), 1);
F.line = 1925;
var res_77175 = 0;
L2: do {
F.line = 1926;
L3: while (true) {
if (!(res_77175 <= colontmp__77172)) break L3;
F.line = 1927;
i_77157 = res_77175;
F.line = 173;
verts_77137[chckIndx(i_77157, 0, verts_77137.length)-0] = (circle_77107.radius * Math.cos(((i_77157 * 3.1415926535897931e+000) / (2.0000000000000000e+000 * roughness_77108))));
F.line = 174;
verts_77137[chckIndx(addInt(i_77157, 1), 0, verts_77137.length)-0] = (circle_77107.radius * Math.sin(((i_77157 * 3.1415926535897931e+000) / (2.0000000000000000e+000 * roughness_77108))));
F.line = 175;
verts_77137[chckIndx(addInt(i_77157, 2), 0, verts_77137.length)-0] = 0.0;
F.line = 176;
verts_77137[chckIndx(addInt(i_77157, 3), 0, verts_77137.length)-0] = (1.0000000000000000e+000 / circle_77107.scale);
res_77175 = addInt(res_77175, 4);
}
} while(false);
} while(false);
drawLineLoop_75174(eng_77106, verts_77137, circle_77107.color, 35044);
framePtr = F.prev;
}
function draw_77187(r_77189, circle_77190, roughness_77191) {

var F={procname:"renderer.draw",prev:framePtr,filename:"C:\\Users\\stisa\\OneDrive\\Progetti\\crow\\crow\\renderer.nim",line:0};
framePtr = F;
if (circle_77190.filled) {
drawD_77031(r_77189, circle_77190, roughness_77191);
}
else {
drawC_77104(r_77189, circle_77190, roughness_77191);
}

framePtr = F.prev;
}
function draw_77179(eng_77181, pol_77182) {

var F={procname:"renderer.draw",prev:framePtr,filename:"C:\\Users\\stisa\\OneDrive\\Progetti\\crow\\crow\\renderer.nim",line:0};
framePtr = F;
setMatrixUnif_75181(eng_77181, pol_77182, makeNimstrLit("uMatrix"));
if (pol_77182.filled) {
drawTriangleFan_75167(eng_77181, pol_77182.verts, pol_77182.color, 35048);
}
else {
drawLineLoop_75174(eng_77181, pol_77182.verts, pol_77182.color, 35044);
}

framePtr = F.prev;
}
function requestAnimationFrame_56423(fn_56428) {

var F={procname:"webgl.requestAnimationFrame",prev:framePtr,filename:"C:\\Users\\stisa\\.nimble\\pkgs\\webgl-#head\\webgl.nim",line:0};
framePtr = F;
F.line = 448;
window.requestAnimationFrame(fn_56428);framePtr = F.prev;
}
function innerframedraw_84049(now_84045) {

var F={procname:"ex2.innerframedraw",prev:framePtr,filename:"C:\\Users\\stisa\\OneDrive\\Progetti\\crow\\crow\\renderer.nim",line:0};
framePtr = F;
F.line = 253;
dt_84048[0] = (now_84045 - last_t_84047[0]);
emit_51410(evq_84001[0], makeNimstrLit("update"), {dt: dt_84048[0], kind: 0, key: 0, mods: 0, button: 0, kmods: 0, pos: {Field0: 0.0, Field1: 0.0}});
resize_56439(en_84003[0].context.canvas);
en_84003[0].context.viewport(0, 0, en_84003[0].context.drawingBufferWidth, en_84003[0].context.drawingBufferHeight);
draw_77183(en_84003[0], b_84020[0]);
draw_77187(en_84003[0], c_84014[0], 32);
draw_77187(en_84003[0], d_84017[0], 32);
draw_77179(en_84003[0], p_84010[0]);
draw_77183(en_84003[0], r_84013[0]);
F.line = 255;
last_t_84047[0] = now_84045;
requestAnimationFrame_56423(innerframedraw_84049);
framePtr = F.prev;
}
var last_t_84047 = /**/[0.0];
var dt_84048 = /**/[0.0];
innerframedraw_84049(0.0);
