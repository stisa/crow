/* Generated by the Nim Compiler v0.16.0 */
/*   (c) 2017 Andreas Rumpf */

var framePtr = null;
var excHandler = 0;
var lastJSError = null;
if (typeof Int8Array === 'undefined') Int8Array = Array;
if (typeof Int16Array === 'undefined') Int16Array = Array;
if (typeof Int32Array === 'undefined') Int32Array = Array;
if (typeof Uint8Array === 'undefined') Uint8Array = Array;
if (typeof Uint16Array === 'undefined') Uint16Array = Array;
if (typeof Uint32Array === 'undefined') Uint32Array = Array;
if (typeof Float32Array === 'undefined') Float32Array = Array;
if (typeof Float64Array === 'undefined') Float64Array = Array;
var NTI70077 = {size: 0,kind: 16,base: null,node: null,finalizer: null};
var NTI70076 = {size: 0,kind: 22,base: null,node: null,finalizer: null};
var NTI70060 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI70908 = {size: 0,kind: 16,base: null,node: null,finalizer: null};
var NTI70907 = {size: 0,kind: 22,base: null,node: null,finalizer: null};
var NTI70891 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI71147 = {size: 0,kind: 16,base: null,node: null,finalizer: null};
var NTI71146 = {size: 0,kind: 22,base: null,node: null,finalizer: null};
var NTI71130 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI70250 = {size: 0,kind: 16,base: null,node: null,finalizer: null};
var NTI70249 = {size: 0,kind: 22,base: null,node: null,finalizer: null};
var NTI70233 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI128 = {size: 0,kind: 36,base: null,node: null,finalizer: null};
var NTI70211 = {size: 0,kind: 16,base: null,node: null,finalizer: null};
var NTI71189 = {size: 0,kind: 16,base: null,node: null,finalizer: null};
var NTI71188 = {size: 0,kind: 22,base: null,node: null,finalizer: null};
var NTI71172 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI50068 = {size: 0,kind: 24,base: null,node: null,finalizer: null};
var NTI73051 = {size: 0,kind: 24,base: null,node: null,finalizer: null};
var NTI3456 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI74010 = {size: 0,kind: 24,base: null,node: null,finalizer: null};
var NTI74008 = {size: 0,kind: 24,base: null,node: null,finalizer: null};
var NTI74006 = {size: 0,kind: 24,base: null,node: null,finalizer: null};
var NTI74005 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI73029 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI73026 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI73017 = {size: 0,kind: 24,base: null,node: null,finalizer: null};
var NTI130 = {size: 0,kind: 1,base: null,node: null,finalizer: null};
var NTI73011 = {size: 0, kind: 18, base: null, node: null, finalizer: null};
var NTI73005 = {size: 0, kind: 18, base: null, node: null, finalizer: null};
var NTI65002 = {size: 0, kind: 18, base: null, node: null, finalizer: null};
var NTI73003 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI124 = {size: 0,kind: 36,base: null,node: null,finalizer: null};
var NTI73021 = {size: 0, kind: 18, base: null, node: null, finalizer: null};
var NTI73020 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI114 = {size: 0,kind: 40,base: null,node: null,finalizer: null};
var NTI69017 = {size: 0,kind: 24,base: null,node: null,finalizer: null};
var NTI54209 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI54207 = {size: 0,kind: 22,base: null,node: null,finalizer: null};
var NTI69015 = {size: 0,kind: 24,base: null,node: null,finalizer: null};
var NTI54229 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI54227 = {size: 0,kind: 22,base: null,node: null,finalizer: null};
var NTI69011 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI69002 = {size: 0, kind: 14, base: null, node: null, finalizer: null};
var NTI54233 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI54231 = {size: 0,kind: 22,base: null,node: null,finalizer: null};
var NTI69006 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI3446 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI3448 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI3444 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI3452 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI50039 = {size: 0,kind: 24,base: null,node: null,finalizer: null};
var NTI50036 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI50024 = {size: 0,kind: 25,base: null,node: null,finalizer: null};
var NTI50023 = {size: 0,kind: 24,base: null,node: null,finalizer: null};
var NTI50010 = {size: 0, kind: 18, base: null, node: null, finalizer: null};
var NTI50436 = {size: 0,kind: 24,base: null,node: null,finalizer: null};
var NTI3438 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI104 = {size: 0,kind: 31,base: null,node: null,finalizer: null};
var NTI12409 = {size: 0, kind: 18, base: null, node: null, finalizer: null};
var NTI3408 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI138 = {size: 0,kind: 28,base: null,node: null,finalizer: null};
var NTI140 = {size: 0,kind: 29,base: null,node: null,finalizer: null};
var NTI3483 = {size: 0,kind: 22,base: null,node: null,finalizer: null};
var NTI3424 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI3436 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI3440 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NNI3440 = {kind: 2, len: 0, offset: 0, typ: null, name: null, sons: []};
NTI3440.node = NNI3440;
var NNI3436 = {kind: 2, len: 0, offset: 0, typ: null, name: null, sons: []};
NTI3436.node = NNI3436;
NTI3483.base = NTI3424;
var NNI3424 = {kind: 2, len: 4, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "parent", len: 0, typ: NTI3483, name: "parent", sons: null}, 
{kind: 1, offset: "name", len: 0, typ: NTI140, name: "name", sons: null}, 
{kind: 1, offset: "message", len: 0, typ: NTI138, name: "msg", sons: null}, 
{kind: 1, offset: "trace", len: 0, typ: NTI138, name: "trace", sons: null}]};
NTI3424.node = NNI3424;
var NNI3408 = {kind: 2, len: 0, offset: 0, typ: null, name: null, sons: []};
NTI3408.node = NNI3408;
NTI3424.base = NTI3408;
NTI3436.base = NTI3424;
NTI3440.base = NTI3436;
var NNI12409 = {kind: 2, len: 2, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "Field0", len: 0, typ: NTI140, name: "Field0", sons: null}, 
{kind: 1, offset: "Field1", len: 0, typ: NTI104, name: "Field1", sons: null}]};
NTI12409.node = NNI12409;
var NNI3438 = {kind: 2, len: 0, offset: 0, typ: null, name: null, sons: []};
NTI3438.node = NNI3438;
NTI3438.base = NTI3436;
NTI50023.base = NTI50024;
var NNI50010 = {kind: 2, len: 2, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "Field0", len: 0, typ: NTI138, name: "Field0", sons: null}, 
{kind: 1, offset: "Field1", len: 0, typ: NTI50023, name: "Field1", sons: null}]};
NTI50010.node = NNI50010;
NTI50436.base = NTI50010;
NTI50039.base = NTI50010;
var NNI50036 = {kind: 1, offset: "s", len: 0, typ: NTI50039, name: "s", sons: null};
NTI50036.node = NNI50036;
var NNI3452 = {kind: 2, len: 0, offset: 0, typ: null, name: null, sons: []};
NTI3452.node = NNI3452;
NTI3452.base = NTI3424;
var NNI3444 = {kind: 2, len: 0, offset: 0, typ: null, name: null, sons: []};
NTI3444.node = NNI3444;
NTI3444.base = NTI3424;
var NNI3448 = {kind: 2, len: 0, offset: 0, typ: null, name: null, sons: []};
NTI3448.node = NNI3448;
var NNI3446 = {kind: 2, len: 0, offset: 0, typ: null, name: null, sons: []};
NTI3446.node = NNI3446;
NTI3446.base = NTI3424;
NTI3448.base = NTI3446;
var NNI54233 = {kind: 2, len: 0, offset: 0, typ: null, name: null, sons: []};
NTI54233.node = NNI54233;
NTI54233.base = NTI3408;
NTI54231.base = NTI54233;
var NNI69002 = {kind: 2, offset: 0, typ: null, name: null, len: 2, sons: [{kind: 1, offset: 0, typ: NTI69002, name: "Fragment", len: 0, sons: null}, 
{kind: 1, offset: 1, typ: NTI69002, name: "Vertex", len: 0, sons: null}]};
NTI69002.node = NNI69002;
var NNI69006 = {kind: 2, len: 3, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "source", len: 0, typ: NTI138, name: "source", sons: null}, 
{kind: 1, offset: "s", len: 0, typ: NTI54231, name: "s", sons: null}, 
{kind: 1, offset: "kind", len: 0, typ: NTI69002, name: "kind", sons: null}]};
NTI69006.node = NNI69006;
var NNI54229 = {kind: 2, len: 0, offset: 0, typ: null, name: null, sons: []};
NTI54229.node = NNI54229;
NTI54229.base = NTI3408;
NTI54227.base = NTI54229;
var NNI54209 = {kind: 2, len: 0, offset: 0, typ: null, name: null, sons: []};
NTI54209.node = NNI54209;
NTI54209.base = NTI3408;
NTI54207.base = NTI54209;
NTI69015.base = NTI54207;
NTI69017.base = NTI114;
var NNI69011 = {kind: 2, len: 5, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "p", len: 0, typ: NTI54227, name: "p", sons: null}, 
{kind: 1, offset: "vertex", len: 0, typ: NTI69006, name: "vertex", sons: null}, 
{kind: 1, offset: "fragment", len: 0, typ: NTI69006, name: "fragment", sons: null}, 
{kind: 1, offset: "colors", len: 0, typ: NTI69015, name: "colors", sons: null}, 
{kind: 1, offset: "attributes", len: 0, typ: NTI69017, name: "attributes", sons: null}]};
NTI69011.node = NNI69011;
var NNI73021 = {kind: 2, len: 2, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "Field0", len: 0, typ: NTI124, name: "Field0", sons: null}, 
{kind: 1, offset: "Field1", len: 0, typ: NTI124, name: "Field1", sons: null}]};
NTI73021.node = NNI73021;
var NNI73020 = {kind: 1, offset: "size", len: 0, typ: NTI73021, name: "size", sons: null};
NTI73020.node = NNI73020;
var NNI65002 = {kind: 2, len: 4, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "Field0", len: 0, typ: NTI124, name: "Field0", sons: null}, 
{kind: 1, offset: "Field1", len: 0, typ: NTI124, name: "Field1", sons: null}, 
{kind: 1, offset: "Field2", len: 0, typ: NTI124, name: "Field2", sons: null}, 
{kind: 1, offset: "Field3", len: 0, typ: NTI124, name: "Field3", sons: null}]};
NTI65002.node = NNI65002;
var NNI73005 = {kind: 2, len: 2, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "Field0", len: 0, typ: NTI124, name: "Field0", sons: null}, 
{kind: 1, offset: "Field1", len: 0, typ: NTI124, name: "Field1", sons: null}]};
NTI73005.node = NNI73005;
var NNI73011 = {kind: 2, len: 2, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "Field0", len: 0, typ: NTI124, name: "Field0", sons: null}, 
{kind: 1, offset: "Field1", len: 0, typ: NTI124, name: "Field1", sons: null}]};
NTI73011.node = NNI73011;
NTI73017.base = NTI124;
var NNI73003 = {kind: 2, len: 8, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "color", len: 0, typ: NTI65002, name: "color", sons: null}, 
{kind: 1, offset: "pos", len: 0, typ: NTI73005, name: "pos", sons: null}, 
{kind: 1, offset: "scale", len: 0, typ: NTI124, name: "scale", sons: null}, 
{kind: 1, offset: "rot", len: 0, typ: NTI124, name: "rot", sons: null}, 
{kind: 1, offset: "origin", len: 0, typ: NTI73011, name: "origin", sons: null}, 
{kind: 1, offset: "centered", len: 0, typ: NTI130, name: "centered", sons: null}, 
{kind: 1, offset: "filled", len: 0, typ: NTI130, name: "filled", sons: null}, 
{kind: 1, offset: "verts", len: 0, typ: NTI73017, name: "verts", sons: null}]};
NTI73003.node = NNI73003;
NTI73003.base = NTI3408;
NTI73020.base = NTI73003;
var NNI73026 = {kind: 1, offset: "radius", len: 0, typ: NTI124, name: "radius", sons: null};
NTI73026.node = NNI73026;
NTI73026.base = NTI73003;
var NNI73029 = {kind: 2, len: 2, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "sides", len: 0, typ: NTI104, name: "sides", sons: null}, 
{kind: 1, offset: "bcradius", len: 0, typ: NTI124, name: "bcradius", sons: null}]};
NTI73029.node = NNI73029;
NTI73029.base = NTI73003;
NTI74006.base = NTI73020;
NTI74008.base = NTI73026;
NTI74010.base = NTI73029;
var NNI74005 = {kind: 2, len: 3, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "r", len: 0, typ: NTI74006, name: "r", sons: null}, 
{kind: 1, offset: "c", len: 0, typ: NTI74008, name: "c", sons: null}, 
{kind: 1, offset: "p", len: 0, typ: NTI74010, name: "p", sons: null}]};
NTI74005.node = NNI74005;
var NNI3456 = {kind: 2, len: 0, offset: 0, typ: null, name: null, sons: []};
NTI3456.node = NNI3456;
NTI3456.base = NTI3424;
NTI73051.base = NTI124;
NTI50068.base = NTI50024;
NTI71189.base = NTI124;
NTI71188.base = NTI71189;
var NNI71172 = {kind: 2, len: 2, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "data", len: 0, typ: NTI71188, name: "data", sons: null}, 
{kind: 2, len: 0, offset: 0, typ: null, name: null, sons: []}]};
NTI71172.node = NNI71172;
NTI70211.base = NTI128;
NTI70250.base = NTI124;
NTI70249.base = NTI70250;
var NNI70233 = {kind: 2, len: 2, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "data", len: 0, typ: NTI70249, name: "data", sons: null}, 
{kind: 2, len: 0, offset: 0, typ: null, name: null, sons: []}]};
NTI70233.node = NNI70233;
NTI71147.base = NTI124;
NTI71146.base = NTI71147;
var NNI71130 = {kind: 2, len: 2, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "data", len: 0, typ: NTI71146, name: "data", sons: null}, 
{kind: 2, len: 0, offset: 0, typ: null, name: null, sons: []}]};
NTI71130.node = NNI71130;
NTI70908.base = NTI124;
NTI70907.base = NTI70908;
var NNI70891 = {kind: 2, len: 2, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "data", len: 0, typ: NTI70907, name: "data", sons: null}, 
{kind: 2, len: 0, offset: 0, typ: null, name: null, sons: []}]};
NTI70891.node = NNI70891;
NTI70077.base = NTI124;
NTI70076.base = NTI70077;
var NNI70060 = {kind: 2, len: 2, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "data", len: 0, typ: NTI70076, name: "data", sons: null}, 
{kind: 2, len: 0, offset: 0, typ: null, name: null, sons: []}]};
NTI70060.node = NNI70060;
function makeNimstrLit(c_13403) {

    var ln = c_13403.length;
    var result = new Array(ln + 1);
    var i = 0;
    for (; i < ln; ++i) {
      result[i] = c_13403.charCodeAt(i);
    }
    result[i] = 0; // terminating zero
    return result;
    }
function SetConstr() {

      var result = {};
      for (var i = 0; i < arguments.length; ++i) {
        var x = arguments[i];
        if (typeof(x) == "object") {
          for (var j = x[0]; j <= x[1]; ++j) {
            result[j] = true;
          }
        } else {
          result[x] = true;
        }
      }
      return result;
    }
function nimCopy(dest_18514, src_18515, ti_18516) {

var result_18829 = null;
switch (ti_18516.kind) {
case 21: case 22: case 23: case 5: if (!(isfatpointer_18497(ti_18516))) {
result_18829 = src_18515;
}
else {
result_18829 = [src_18515[0], src_18515[1]];}


break;
case 19:       if (dest_18514 === null || dest_18514 === undefined) {
        dest_18514 = {};
      }
      else {
        for (var key in dest_18514) { delete dest_18514[key]; }
      }
      for (var key in src_18515) { dest_18514[key] = src_18515[key]; }
      result_18829 = dest_18514;
    
break;
case 18: case 17: if (!((ti_18516.base == null))) {
result_18829 = nimCopy(dest_18514, src_18515, ti_18516.base);
}
else {
if ((ti_18516.kind == 17)) {
result_18829 = (dest_18514 === null || dest_18514 === undefined) ? {m_type: ti_18516} : dest_18514;}
else {
result_18829 = (dest_18514 === null || dest_18514 === undefined) ? {} : dest_18514;}
}
nimCopyAux(result_18829, src_18515, ti_18516.node);

break;
case 24: case 4: case 27: case 16:       if (src_18515 === null) {
        result_18829 = null;
      }
      else {
        if (dest_18514 === null || dest_18514 === undefined) {
          dest_18514 = new Array(src_18515.length);
        }
        else {
          dest_18514.length = src_18515.length;
        }
        result_18829 = dest_18514;
        for (var i = 0; i < src_18515.length; ++i) {
          result_18829[i] = nimCopy(result_18829[i], src_18515[i], ti_18516.base);
        }
      }
    
break;
case 28:       if (src_18515 !== null) {
        result_18829 = src_18515.slice(0);
      }
    
break;
default: 
result_18829 = src_18515;
break;
}
return result_18829;
}
function eqStrings(a_16003, b_16004) {

    if (a_16003 == b_16004) return true;
    if ((!a_16003) || (!b_16004)) return false;
    var alen = a_16003.length;
    if (alen != b_16004.length) return false;
    for (var i = 0; i < alen; ++i)
      if (a_16003[i] != b_16004[i]) return false;
    return true;
  }
function arrayConstr(len_19003, value_19004, typ_19005) {

      var result = new Array(len_19003);
      for (var i = 0; i < len_19003; ++i) result[i] = nimCopy(null, value_19004, typ_19005);
      return result;
    }
function cstrToNimstr(c_13603) {

  var ln = c_13603.length;
  var result = new Array(ln);
  var r = 0;
  for (var i = 0; i < ln; ++i) {
    var ch = c_13603.charCodeAt(i);

    if (ch < 128) {
      result[r] = ch;
    }
    else if((ch > 127) && (ch < 2048)) {
      result[r] = (ch >> 6) | 192;
      ++r;
      result[r] = (ch & 63) | 128;
    }
    else {
      result[r] = (ch >> 12) | 224;
      ++r;
      result[r] = ((ch >> 6) & 63) | 128;
      ++r;
      result[r] = (ch & 63) | 128;
    }
    ++r;
  }
  result[r] = 0; // terminating zero
  return result;
  }
function toJSStr(s_13803) {

    var len = s_13803.length-1;
    var asciiPart = new Array(len);
    var fcc = String.fromCharCode;
    var nonAsciiPart = null;
    var nonAsciiOffset = 0;
    for (var i = 0; i < len; ++i) {
      if (nonAsciiPart !== null) {
        var offset = (i - nonAsciiOffset) * 2;
        var code = s_13803[i].toString(16);
        if (code.length == 1) {
          code = "0"+code;
        }
        nonAsciiPart[offset] = "%";
        nonAsciiPart[offset + 1] = code;
      }
      else if (s_13803[i] < 128)
        asciiPart[i] = fcc(s_13803[i]);
      else {
        asciiPart.length = i;
        nonAsciiOffset = i;
        nonAsciiPart = new Array((len - i) * 2);
        --i;
      }
    }
    asciiPart = asciiPart.join("");
    return (nonAsciiPart === null) ?
        asciiPart : asciiPart + decodeURIComponent(nonAsciiPart.join(""));
  }
function raiseException(e_12806, ename_12807) {

e_12806.name = ename_12807;
if ((excHandler == 0)) {
unhandledException(e_12806);
}

e_12806.trace = nimCopy(null, rawwritestacktrace_12628(), NTI138);
throw e_12806;}
function chckIndx(i_19009, a_19010, b_19011) {

var Tmp1;
var result_19012 = 0;
BeforeRet: do {
if (!(a_19010 <= i_19009)) Tmp1 = false; else {Tmp1 = (i_19009 <= b_19011); }if (Tmp1) {
result_19012 = i_19009;
break BeforeRet;
}
else {
raiseIndexError();
}

} while (false); 
return result_19012;
}
function addInt(a_16256, b_16257) {

      var result = a_16256 + b_16257;
      if (result > 2147483647 || result < -2147483648) raiseOverflow();
      return result;
    }
function subInt(a_16403, b_16404) {

      var result = a_16403 - b_16404;
      if (result > 2147483647 || result < -2147483648) raiseOverflow();
      return result;
    }
function mulInt(a_16603, b_16604) {

      var result = a_16603 * b_16604;
      if (result > 2147483647 || result < -2147483648) raiseOverflow();
      return result;
    }
function chckRange(i_19015, a_19016, b_19017) {

var Tmp1;
var result_19018 = 0;
BeforeRet: do {
if (!(a_19016 <= i_19015)) Tmp1 = false; else {Tmp1 = (i_19015 <= b_19017); }if (Tmp1) {
result_19018 = i_19015;
break BeforeRet;
}
else {
raiseRangeError();
}

} while (false); 
return result_19018;
}
function divInt(a_16803, b_16804) {

      if (b_16804 == 0) raiseDivByZero();
      if (b_16804 == -1 && a_16803 == 2147483647) raiseOverflow();
      return Math.floor(a_16803 / b_16804);
    }
var nimvm_5887 = false;
var nim_program_result = 0;
var globalraisehook_10414 = [null];
var localraisehook_10419 = [null];
var outofmemhook_10422 = [null];
function isfatpointer_18497(ti_18499) {

var result_18500 = false;
BeforeRet: do {
result_18500 = !((SetConstr(17, 16, 4, 18, 27, 19, 23, 22, 21)[ti_18499.base.kind] != undefined));
break BeforeRet;
} while (false); 
return result_18500;
}
function nimCopyAux(dest_18519, src_18520, n_18522) {

switch (n_18522.kind) {
case 0: 
break;
case 1:       dest_18519[n_18522.offset] = nimCopy(dest_18519[n_18522.offset], src_18520[n_18522.offset], n_18522.typ);
    
break;
case 2: L1: do {
var i_18815 = 0;
var HEX3Atmp_18817 = 0;
HEX3Atmp_18817 = (n_18522.len - 1);
var res_18820 = 0;
L2: do {
L3: while (true) {
if (!(res_18820 <= HEX3Atmp_18817)) break L3;
i_18815 = res_18820;
nimCopyAux(dest_18519, src_18520, n_18522.sons[i_18815]);
res_18820 += 1;
}
} while(false);
} while(false);

break;
case 3:       dest_18519[n_18522.offset] = nimCopy(dest_18519[n_18522.offset], src_18520[n_18522.offset], n_18522.typ);
      for (var i = 0; i < n_18522.sons.length; ++i) {
        nimCopyAux(dest_18519, src_18520, n_18522.sons[i][1]);
      }
    
break;
}
}
function add_10438(x_10441, x_10441_Idx, y_10442) {

        var len = x_10441[0].length-1;
        for (var i = 0; i < y_10442.length; ++i) {
          x_10441[0][len] = y_10442.charCodeAt(i);
          ++len;
        }
        x_10441[0][len] = 0
      }
function auxwritestacktrace_12404(f_12406) {

var Tmp3;
var result_12407 = [null];
var it_12415 = f_12406;
var i_12416 = 0;
var total_12417 = 0;
var tempframes_12421 = arrayConstr(64, {Field0: null, Field1: 0}, NTI12409);
L1: do {
L2: while (true) {
if (!!((it_12415 == null))) Tmp3 = false; else {Tmp3 = (i_12416 <= 63); }if (!Tmp3) break L2;
tempframes_12421[i_12416].Field0 = it_12415.procname;
tempframes_12421[i_12416].Field1 = it_12415.line;
i_12416 += 1;
total_12417 += 1;
it_12415 = it_12415.prev;
}
} while(false);
L4: do {
L5: while (true) {
if (!!((it_12415 == null))) break L5;
total_12417 += 1;
it_12415 = it_12415.prev;
}
} while(false);
result_12407[0] = nimCopy(null, makeNimstrLit(""), NTI138);
if (!((total_12417 == i_12416))) {
if (result_12407[0] != null) { result_12407[0] = (result_12407[0].slice(0, -1)).concat(makeNimstrLit("(")); } else { result_12407[0] = makeNimstrLit("(");};
if (result_12407[0] != null) { result_12407[0] = (result_12407[0].slice(0, -1)).concat(cstrToNimstr(((total_12417 - i_12416))+"")); } else { result_12407[0] = cstrToNimstr(((total_12417 - i_12416))+"");};
if (result_12407[0] != null) { result_12407[0] = (result_12407[0].slice(0, -1)).concat(makeNimstrLit(" calls omitted) ...\x0A")); } else { result_12407[0] = makeNimstrLit(" calls omitted) ...\x0A");};
}

L6: do {
var j_12615 = 0;
var HEX3Atmp_12621 = 0;
HEX3Atmp_12621 = (i_12416 - 1);
var res_12624 = HEX3Atmp_12621;
L7: do {
L8: while (true) {
if (!(0 <= res_12624)) break L8;
j_12615 = res_12624;
add_10438(result_12407, 0, tempframes_12421[j_12615].Field0);
if ((0 < tempframes_12421[j_12615].Field1)) {
if (result_12407[0] != null) { result_12407[0] = (result_12407[0].slice(0, -1)).concat(makeNimstrLit(", line: ")); } else { result_12407[0] = makeNimstrLit(", line: ");};
if (result_12407[0] != null) { result_12407[0] = (result_12407[0].slice(0, -1)).concat(cstrToNimstr((tempframes_12421[j_12615].Field1)+"")); } else { result_12407[0] = cstrToNimstr((tempframes_12421[j_12615].Field1)+"");};
}

if (result_12407[0] != null) { result_12407[0] = (result_12407[0].slice(0, -1)).concat(makeNimstrLit("\x0A")); } else { result_12407[0] = makeNimstrLit("\x0A");};
res_12624 -= 1;
}
} while(false);
} while(false);
return result_12407[0];
}
function rawwritestacktrace_12628() {

var result_12630 = null;
if (!((framePtr == null))) {
result_12630 = nimCopy(null, (makeNimstrLit("Traceback (most recent call last)\x0A").slice(0,-1)).concat(auxwritestacktrace_12404(framePtr)), NTI138);
}
else {
result_12630 = nimCopy(null, makeNimstrLit("No stack traceback available\x0A"), NTI138);
}

return result_12630;
}
function unhandledException(e_12654) {

var Tmp1;
var buf_12655 = /**/[makeNimstrLit("")];
if (!!(eqStrings(e_12654.message, null))) Tmp1 = false; else {Tmp1 = !((e_12654.message[0] == 0)); }if (Tmp1) {
if (buf_12655[0] != null) { buf_12655[0] = (buf_12655[0].slice(0, -1)).concat(makeNimstrLit("Error: unhandled exception: ")); } else { buf_12655[0] = makeNimstrLit("Error: unhandled exception: ");};
if (buf_12655[0] != null) { buf_12655[0] = (buf_12655[0].slice(0, -1)).concat(e_12654.message); } else { buf_12655[0] = e_12654.message;};
}
else {
if (buf_12655[0] != null) { buf_12655[0] = (buf_12655[0].slice(0, -1)).concat(makeNimstrLit("Error: unhandled exception")); } else { buf_12655[0] = makeNimstrLit("Error: unhandled exception");};
}

if (buf_12655[0] != null) { buf_12655[0] = (buf_12655[0].slice(0, -1)).concat(makeNimstrLit(" [")); } else { buf_12655[0] = makeNimstrLit(" [");};
add_10438(buf_12655, 0, e_12654.name);
if (buf_12655[0] != null) { buf_12655[0] = (buf_12655[0].slice(0, -1)).concat(makeNimstrLit("]\x0A")); } else { buf_12655[0] = makeNimstrLit("]\x0A");};
if (buf_12655[0] != null) { buf_12655[0] = (buf_12655[0].slice(0, -1)).concat(rawwritestacktrace_12628()); } else { buf_12655[0] = rawwritestacktrace_12628();};
var cbuf_12801 = toJSStr(buf_12655[0]);
framePtr = null;
  if (typeof(Error) !== "undefined") {
    throw new Error(cbuf_12801);
  }
  else {
    throw cbuf_12801;
  }
  }
function raiseOverflow() {

var e_13236 = null;
e_13236 = {m_type: NTI3440, parent: null, name: null, message: null, trace: null};
e_13236.message = nimCopy(null, makeNimstrLit("over- or underflow"), NTI138);
raiseException(e_13236, "OverflowError");
}
function raiseDivByZero() {

var e_13252 = null;
e_13252 = {m_type: NTI3438, parent: null, name: null, message: null, trace: null};
e_13252.message = nimCopy(null, makeNimstrLit("division by zero"), NTI138);
raiseException(e_13252, "DivByZeroError");
}
var objectid_41233 = /**/[0];
var state_58605 = /**/[{a0: 1773455756, a1: 4275166512}];
function gettime_61040() {

var result_61413 = null;
var F={procname:"times.getTime",prev:framePtr,filename:"lib\\pure\\times.nim",line:0};
framePtr = F;
BeforeRet: do {
F.line = 586;
result_61413 = new Date();
break BeforeRet;
} while (false); 
framePtr = F.prev;
return result_61413;
}
var startmilsecs_61448 = /**/[gettime_61040()];
function initeventemitter_50418() {

var result_50420 = {s: null};
var F={procname:"events.initEventEmitter",prev:framePtr,filename:"C:\\Dev\\proj\\crow\\crow\\events.nim",line:0};
framePtr = F;
F.line = 123;
result_50420.s = nimCopy(null, [], NTI50436);
framePtr = F.prev;
return result_50420;
}
function raiseIndexError() {

var e_13284 = null;
e_13284 = {m_type: NTI3452, parent: null, name: null, message: null, trace: null};
e_13284.message = nimCopy(null, makeNimstrLit("index out of bounds"), NTI138);
raiseException(e_13284, "IndexError");
}
function geteventhandler_50255(emitter_50258, event_50259) {

var result_50260 = 0;
var F={procname:"events.getEventHandler",prev:framePtr,filename:"C:\\Dev\\proj\\crow\\crow\\events.nim",line:0};
framePtr = F;
BeforeRet: do {
L1: do {
F.line = 95;
var k_50270 = 0;
F.line = 1926;
var HEX3Atmp_50272 = 0;
F.line = 95;
HEX3Atmp_50272 = (emitter_50258.s != null ? (emitter_50258.s.length-1) : -1);
F.line = 1908;
var res_50275 = 0;
L2: do {
F.line = 1909;
L3: while (true) {
if (!(res_50275 <= HEX3Atmp_50272)) break L3;
F.line = 1910;
k_50270 = res_50275;
if (eqStrings(emitter_50258.s[chckIndx(k_50270, 0, emitter_50258.s.length)-0].Field0, event_50259)) {
F.line = 96;
result_50260 = k_50270;
break BeforeRet;
}

res_50275 = addInt(res_50275, 1);
}
} while(false);
} while(false);
F.line = 97;
result_50260 = -1;
break BeforeRet;
} while (false); 
framePtr = F.prev;
return result_50260;
}
function sysfatal_21021(message_21027) {

var F={procname:"sysFatal.sysFatal",prev:framePtr,filename:"lib\\system.nim",line:0};
framePtr = F;
F.line = 2578;
var e_21029 = null;
e_21029 = {m_type: NTI3444, parent: null, name: null, message: null, trace: null};
F.line = 2580;
e_21029.message = nimCopy(null, message_21027, NTI138);
F.line = 2581;
raiseException(e_21029, "AssertionError");
framePtr = F.prev;
}
function raiseassert_21016(msg_21018) {

var F={procname:"system.raiseAssert",prev:framePtr,filename:"lib\\system.nim",line:0};
framePtr = F;
sysfatal_21021(msg_21018);
framePtr = F.prev;
}
function failedassertimpl_21039(msg_21041) {

var F={procname:"system.failedAssertImpl",prev:framePtr,filename:"lib\\system.nim",line:0};
framePtr = F;
raiseassert_21016(msg_21041);
framePtr = F.prev;
}
function emit_50302(emitter_50305, eventhandler_50307, args_50308) {

var F={procname:"events.emit",prev:framePtr,filename:"C:\\Dev\\proj\\crow\\crow\\events.nim",line:0};
framePtr = F;
L1: do {
F.line = 113;
var fn_50402 = null;
F.line = 3495;
var HEX3Atmp_50404 = null;
F.line = 113;
HEX3Atmp_50404 = eventhandler_50307.Field1;
F.line = 3497;
var i_50407 = 0;
F.line = 3498;
var L_50409 = (HEX3Atmp_50404 != null ? HEX3Atmp_50404.length : 0);
L2: do {
F.line = 3499;
L3: while (true) {
if (!(i_50407 < L_50409)) break L3;
F.line = 3500;
fn_50402 = HEX3Atmp_50404[chckIndx(i_50407, 0, HEX3Atmp_50404.length)-0];
fn_50402(args_50308);
i_50407 = addInt(i_50407, 1);
if (!(((HEX3Atmp_50404 != null ? HEX3Atmp_50404.length : 0) == L_50409))) {
failedassertimpl_21039(makeNimstrLit("len(a) == L seq modified while iterating over it"));
}

}
} while(false);
} while(false);
framePtr = F.prev;
}
function emit_50410(emitter_50413, event_50414, args_50415) {

var F={procname:"events.emit",prev:framePtr,filename:"C:\\Dev\\proj\\crow\\crow\\events.nim",line:0};
framePtr = F;
F.line = 117;
var i_50416 = geteventhandler_50255(emitter_50413, event_50414);
if ((0 <= i_50416)) {
emit_50302(emitter_50413, emitter_50413.s[chckIndx(i_50416, 0, emitter_50413.s.length)-0], args_50415);
}

framePtr = F.prev;
}
function hash_41801(x_41803) {

var result_41804 = 0;
var F={procname:"hashes.hash",prev:framePtr,filename:"lib\\pure\\hashes.nim",line:0};
framePtr = F;
F.line = 109;
result_41804 = x_41803;
framePtr = F.prev;
return result_41804;
}
function isfilled_44465(hcode_44467) {

var result_44468 = false;
var F={procname:"tables.isFilled",prev:framePtr,filename:"lib\\pure\\collections\\tableimpl.nim",line:0};
framePtr = F;
F.line = 18;
result_44468 = !((hcode_44467 == 0));
framePtr = F.prev;
return result_44468;
}
function nexttry_44601(h_44603, maxhash_44604) {

var result_44605 = 0;
var F={procname:"tables.nextTry",prev:framePtr,filename:"lib\\pure\\collections\\tableimpl.nim",line:0};
framePtr = F;
F.line = 28;
result_44605 = (addInt(h_44603, 1) & maxhash_44604);
framePtr = F.prev;
return result_44605;
}
function rawget_48460(t_48465, key_48467, hc_48469, hc_48469_Idx) {

var Tmp3;
var result_48470 = 0;
var F={procname:"rawGet.rawGet",prev:framePtr,filename:"lib\\pure\\collections\\tableimpl.nim",line:0};
framePtr = F;
BeforeRet: do {
F.line = 43;
hc_48469[hc_48469_Idx] = hash_41801(key_48467);
if ((hc_48469[hc_48469_Idx] == 0)) {
F.line = 45;
hc_48469[hc_48469_Idx] = 314159265;
}

F.line = 31;
var h_48472 = (hc_48469[hc_48469_Idx] & (t_48465.data != null ? (t_48465.data.length-1) : -1));
L1: do {
F.line = 32;
L2: while (true) {
if (!isfilled_44465(t_48465.data[chckIndx(h_48472, 0, t_48465.data.length)-0].Field0)) break L2;
if (!(t_48465.data[chckIndx(h_48472, 0, t_48465.data.length)-0].Field0 == hc_48469[hc_48469_Idx])) Tmp3 = false; else {Tmp3 = (t_48465.data[chckIndx(h_48472, 0, t_48465.data.length)-0].Field1 == key_48467); }if (Tmp3) {
F.line = 38;
result_48470 = h_48472;
break BeforeRet;
}

F.line = 39;
h_48472 = nexttry_44601(h_48472, (t_48465.data != null ? (t_48465.data.length-1) : -1));
}
} while(false);
F.line = 75;
result_48470 = subInt(-1, h_48472);
} while (false); 
framePtr = F.prev;
return result_48470;
}
function HEX5BHEX5D_48630(t_48636, key_48638) {

var result_48639 = 0;
var F={procname:"[].[]",prev:framePtr,filename:"lib\\pure\\collections\\tables.nim",line:0};
framePtr = F;
F.line = 146;
var hc_48641 = [0];
F.line = 147;
var index_48643 = rawget_48460(t_48636, key_48638, hc_48641, 0);
if ((0 <= index_48643)) {
F.line = 148;
result_48639 = t_48636.data[chckIndx(index_48643, 0, t_48636.data.length)-0].Field2;
}
else {
F.line = 151;
F.line = 2559;
var e_48803 = null;
e_48803 = {m_type: NTI3448, parent: null, name: null, message: null, trace: null};
F.line = 2561;
e_48803.message = nimCopy(null, (makeNimstrLit("key not found: ").slice(0,-1)).concat(cstrToNimstr((key_48638)+"")), NTI138);
raiseException(e_48803, "KeyError");
}

framePtr = F.prev;
return result_48639;
}
function tojskc_48625(k_48627) {

var result_48628 = 0;
var F={procname:"keymap.toJSKC",prev:framePtr,filename:"C:\\Dev\\proj\\crow\\crow\\keymap.nim",line:0};
framePtr = F;
F.line = 231;
result_48628 = HEX5BHEX5D_48630({data: [{Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 260, Field1: 260, Field2: 55}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 8, Field1: 8, Field2: 54}, {Field0: 9, Field1: 9, Field2: 53}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 13, Field1: 13, Field2: 52}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 16, Field1: 16, Field2: 112}, {Field0: 17, Field1: 17, Field2: 113}, {Field0: 18, Field1: 18, Field2: 114}, {Field0: 19, Field1: 19, Field2: 69}, {Field0: 20, Field1: 20, Field2: 65}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 27, Field1: 27, Field2: 51}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 32, Field1: 32, Field2: 1}, {Field0: 33, Field1: 33, Field2: 61}, {Field0: 34, Field1: 34, Field2: 62}, {Field0: 35, Field1: 35, Field2: 64}, {Field0: 36, Field1: 36, Field2: 63}, {Field0: 37, Field1: 37, Field2: 58}, {Field0: 38, Field1: 38, Field2: 60}, {Field0: 39, Field1: 39, Field2: 57}, {Field0: 40, Field1: 40, Field2: 59}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 44, Field1: 44, Field2: 68}, {Field0: 45, Field1: 45, Field2: 4}, {Field0: 46, Field1: 46, Field2: 56}, {Field0: 47, Field1: 47, Field2: 6}, {Field0: 48, Field1: 48, Field2: 7}, {Field0: 49, Field1: 49, Field2: 8}, {Field0: 50, Field1: 50, Field2: 9}, {Field0: 51, Field1: 51, Field2: 10}, {Field0: 52, Field1: 52, Field2: 11}, {Field0: 53, Field1: 53, Field2: 12}, {Field0: 54, Field1: 54, Field2: 13}, {Field0: 55, Field1: 55, Field2: 14}, {Field0: 56, Field1: 56, Field2: 15}, {Field0: 57, Field1: 57, Field2: 16}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 59, Field1: 59, Field2: 17}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 61, Field1: 61, Field2: 18}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 65, Field1: 65, Field2: 19}, {Field0: 66, Field1: 66, Field2: 20}, {Field0: 67, Field1: 67, Field2: 21}, {Field0: 68, Field1: 68, Field2: 22}, {Field0: 69, Field1: 69, Field2: 23}, {Field0: 70, Field1: 70, Field2: 24}, {Field0: 71, Field1: 71, Field2: 25}, {Field0: 72, Field1: 72, Field2: 26}, {Field0: 73, Field1: 73, Field2: 27}, {Field0: 74, Field1: 74, Field2: 28}, {Field0: 75, Field1: 75, Field2: 29}, {Field0: 76, Field1: 76, Field2: 30}, {Field0: 77, Field1: 77, Field2: 31}, {Field0: 78, Field1: 78, Field2: 32}, {Field0: 79, Field1: 79, Field2: 33}, {Field0: 80, Field1: 80, Field2: 34}, {Field0: 81, Field1: 81, Field2: 35}, {Field0: 82, Field1: 82, Field2: 36}, {Field0: 83, Field1: 83, Field2: 37}, {Field0: 84, Field1: 84, Field2: 38}, {Field0: 85, Field1: 85, Field2: 39}, {Field0: 86, Field1: 86, Field2: 40}, {Field0: 87, Field1: 87, Field2: 41}, {Field0: 88, Field1: 88, Field2: 42}, {Field0: 89, Field1: 89, Field2: 43}, {Field0: 90, Field1: 90, Field2: 44}, {Field0: 91, Field1: 91, Field2: 45}, {Field0: 92, Field1: 92, Field2: 46}, {Field0: 93, Field1: 93, Field2: 47}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 96, Field1: 96, Field2: 95}, {Field0: 97, Field1: 97, Field2: 96}, {Field0: 98, Field1: 98, Field2: 97}, {Field0: 99, Field1: 99, Field2: 98}, {Field0: 100, Field1: 100, Field2: 99}, {Field0: 101, Field1: 101, Field2: 100}, {Field0: 102, Field1: 102, Field2: 101}, {Field0: 103, Field1: 103, Field2: 102}, {Field0: 104, Field1: 104, Field2: 103}, {Field0: 105, Field1: 105, Field2: 104}, {Field0: 106, Field1: 106, Field2: 107}, {Field0: 107, Field1: 107, Field2: 109}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 109, Field1: 109, Field2: 108}, {Field0: 110, Field1: 110, Field2: 105}, {Field0: 111, Field1: 111, Field2: 106}, {Field0: 112, Field1: 112, Field2: 70}, {Field0: 113, Field1: 113, Field2: 71}, {Field0: 114, Field1: 114, Field2: 72}, {Field0: 115, Field1: 115, Field2: 73}, {Field0: 116, Field1: 116, Field2: 74}, {Field0: 117, Field1: 117, Field2: 75}, {Field0: 118, Field1: 118, Field2: 76}, {Field0: 119, Field1: 119, Field2: 77}, {Field0: 120, Field1: 120, Field2: 78}, {Field0: 121, Field1: 121, Field2: 79}, {Field0: 122, Field1: 122, Field2: 80}, {Field0: 123, Field1: 123, Field2: 81}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 144, Field1: 144, Field2: 67}, {Field0: 145, Field1: 145, Field2: 66}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 314159265, Field1: 0, Field2: 0}, {Field0: 161, Field1: 161, Field2: 49}, {Field0: 162, Field1: 162, Field2: 50}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}], counter: 96}, k_48627);
framePtr = F.prev;
return result_48628;
}
function initevents_52201() {

function keyev_52204(e_52207) {

var F={procname:"initEvents.keyev",prev:framePtr,filename:"C:\\Dev\\proj\\crow\\crow\\events.nim",line:0};
framePtr = F;
emit_50410(result_52203[0], makeNimstrLit("keyEv"), {kind: 0, key: tojskc_48625(e_52207.keyCode), mods: 0, button: 0, kmods: 0, pos: {Field0: 0.0, Field1: 0.0}, dt: 0.0});
framePtr = F.prev;
}
function mouseev_52211(e_52214) {

var F={procname:"initEvents.mouseev",prev:framePtr,filename:"C:\\Dev\\proj\\crow\\crow\\events.nim",line:0};
framePtr = F;
emit_50410(result_52203[0], makeNimstrLit("click"), {kind: 2, button: 0, key: 0, mods: 0, kmods: 0, pos: {Field0: 0.0, Field1: 0.0}, dt: 0.0});
framePtr = F.prev;
}
var result_52203 = [{s: null}];
var F={procname:"events.initEvents",prev:framePtr,filename:"C:\\Dev\\proj\\crow\\crow\\events.nim",line:0};
framePtr = F;
F.line = 146;
nimCopy(result_52203[0], initeventemitter_50418(), NTI50036);
document.addEventListener("keypress", keyev_52204, true);
document.addEventListener("click", mouseev_52211, true);
framePtr = F.prev;
return result_52203[0];
}
var evq_83001 = /**/[initevents_52201()];
function initwindow_56206(w_56208, h_56209) {

var Tmp1;
var result_56210 = {ctx: null, width: 0, height: 0};
var F={procname:"windows.initWindow",prev:framePtr,filename:"C:\\Dev\\proj\\crow\\crow\\windows.nim",line:0};
framePtr = F;
F.line = 18;
var canvas_56211 = document.getElementById("niwe-canvas");
if (!((w_56208 == -1))) Tmp1 = true; else {Tmp1 = !((h_56209 == -1)); }if (Tmp1) {
F.line = 20;
canvas_56211.width = w_56208;
F.line = 21;
canvas_56211.height = h_56209;
}

F.line = 23;
result_56210.ctx = canvas_56211.getContext("webgl");
F.line = 24;
result_56210.width = canvas_56211.clientWidth;
F.line = 25;
result_56210.height = canvas_56211.clientHeight;
framePtr = F.prev;
return result_56210;
}
var w_83002 = /**/[initwindow_56206(-1, -1)];
function resize_55127(canvas_55129) {

var Tmp1;
var F={procname:"webgl.resize",prev:framePtr,filename:"C:\\Users\\stisa\\.nimble\\pkgs\\webgl-0.1.0\\webgl.nim",line:0};
framePtr = F;
if (!((canvas_55129.width == canvas_55129.clientWidth))) Tmp1 = true; else {Tmp1 = !((canvas_55129.height == canvas_55129.clientHeight)); }if (Tmp1) {
F.line = 445;
canvas_55129.width = canvas_55129.clientWidth;
F.line = 446;
canvas_55129.height = canvas_55129.clientHeight;
}

framePtr = F.prev;
}
function getstatus_55117(gl_55119, what_55120) {

var result_55121 = false;
var F={procname:"webgl.getStatus",prev:framePtr,filename:"C:\\Users\\stisa\\.nimble\\pkgs\\webgl-0.1.0\\webgl.nim",line:0};
framePtr = F;
F.line = 436;
result_55121 = gl_55119.getShaderParameter(what_55120, gl_55119.COMPILE_STATUS);framePtr = F.prev;
return result_55121;
}
function shader_69075(gl_69077, typ_69078, src_69079) {

var result_69080 = {source: null, s: null, kind: 0};
var F={procname:"gl.shader",prev:framePtr,filename:"C:\\Dev\\proj\\crow\\crow\\gl.nim",line:0};
framePtr = F;
if ((typ_69078 == 1)) {
F.line = 42;
result_69080.s = gl_69077.createShader(35633);
}
else {
if ((typ_69078 == 0)) {
F.line = 44;
result_69080.s = gl_69077.createShader(35632);
}
else {
console.log("Unknown Shader Type");
}
}
gl_69077.shaderSource(result_69080.s, toJSStr(src_69079));
gl_69077.compileShader(result_69080.s);
if (!(getstatus_55117(gl_69077, result_69080.s))) {
console.log(gl_69077.getShaderInfoLog(result_69080.s));
}

F.line = 49;
result_69080.kind = typ_69078;
F.line = 50;
result_69080.source = nimCopy(null, src_69079, NTI138);
framePtr = F.prev;
return result_69080;
}
function getstatus_55122(gl_55124, what_55125) {

var result_55126 = false;
var F={procname:"webgl.getStatus",prev:framePtr,filename:"C:\\Users\\stisa\\.nimble\\pkgs\\webgl-0.1.0\\webgl.nim",line:0};
framePtr = F;
F.line = 438;
result_55126 = gl_55124.getProgramParameter(what_55125, gl_55124.LINK_STATUS);framePtr = F.prev;
return result_55126;
}
function program_69105(gl_69107, useit_69108, vertexsrc_69109, fragmentsrc_69110) {

var result_69111 = {p: null, vertex: {source: null, s: null, kind: 0}, fragment: {source: null, s: null, kind: 0}, colors: null, attributes: null};
var F={procname:"gl.program",prev:framePtr,filename:"C:\\Dev\\proj\\crow\\crow\\gl.nim",line:0};
framePtr = F;
BeforeRet: do {
F.line = 55;
var program_69112 = gl_69107.createProgram();
F.line = 56;
var vs_69113 = shader_69075(gl_69107, 1, vertexsrc_69109);
F.line = 57;
var fs_69114 = shader_69075(gl_69107, 0, fragmentsrc_69110);
gl_69107.attachShader(program_69112, vs_69113.s);
gl_69107.attachShader(program_69112, fs_69114.s);
gl_69107.linkProgram(program_69112);
F.line = 62;
nimCopy(result_69111.vertex, vs_69113, NTI69006);
F.line = 63;
nimCopy(result_69111.fragment, fs_69114, NTI69006);
if (!(getstatus_55122(gl_69107, program_69112))) {
console.log(gl_69107.getProgramInfoLog(program_69112));
F.line = 67;
break BeforeRet;
}

if (useit_69108) {
gl_69107.useProgram(program_69112);
}

F.line = 69;
result_69111.p = program_69112;
} while (false); 
framePtr = F.prev;
return result_69111;
}
function clearwith_69071(gl_69073, color_69074) {

var F={procname:"gl.clearWith",prev:framePtr,filename:"C:\\Dev\\proj\\crow\\crow\\gl.nim",line:0};
framePtr = F;
gl_69073.clearColor(color_69074.Field0, color_69074.Field1, color_69074.Field2, color_69074.Field3);
gl_69073.clear(16384);
framePtr = F.prev;
}
function newseq_74018(len_74022) {

var result_74024 = null;
var F={procname:"newSeq.newSeq",prev:framePtr,filename:"lib\\system.nim",line:0};
framePtr = F;
result_74024 = new Array(len_74022); for (var i=0;i<len_74022;++i) {result_74024[i]={m_type: NTI73020, size: {Field0: 0.0, Field1: 0.0}, color: {Field0: 0.0, Field1: 0.0, Field2: 0.0, Field3: 0.0}, pos: {Field0: 0.0, Field1: 0.0}, scale: 0.0, rot: 0.0, origin: {Field0: 0.0, Field1: 0.0}, centered: false, filled: false, verts: null};}framePtr = F.prev;
return result_74024;
}
function newseq_74056(len_74060) {

var result_74062 = null;
var F={procname:"newSeq.newSeq",prev:framePtr,filename:"lib\\system.nim",line:0};
framePtr = F;
result_74062 = new Array(len_74060); for (var i=0;i<len_74060;++i) {result_74062[i]={m_type: NTI73026, radius: 0.0, color: {Field0: 0.0, Field1: 0.0, Field2: 0.0, Field3: 0.0}, pos: {Field0: 0.0, Field1: 0.0}, scale: 0.0, rot: 0.0, origin: {Field0: 0.0, Field1: 0.0}, centered: false, filled: false, verts: null};}framePtr = F.prev;
return result_74062;
}
function newseq_74094(len_74098) {

var result_74100 = null;
var F={procname:"newSeq.newSeq",prev:framePtr,filename:"lib\\system.nim",line:0};
framePtr = F;
result_74100 = new Array(len_74098); for (var i=0;i<len_74098;++i) {result_74100[i]={m_type: NTI73029, sides: 0, bcradius: 0.0, color: {Field0: 0.0, Field1: 0.0, Field2: 0.0, Field3: 0.0}, pos: {Field0: 0.0, Field1: 0.0}, scale: 0.0, rot: 0.0, origin: {Field0: 0.0, Field1: 0.0}, centered: false, filled: false, verts: null};}framePtr = F.prev;
return result_74100;
}
function batcher_74012() {

var result_74014 = {r: null, c: null, p: null};
var F={procname:"renderer.batcher",prev:framePtr,filename:"C:\\Dev\\proj\\crow\\crow\\renderer.nim",line:0};
framePtr = F;
F.line = 34;
nimCopy(result_74014, {r: newseq_74018(0), c: newseq_74056(0), p: newseq_74094(0)}, NTI74005);
framePtr = F.prev;
return result_74014;
}
function initrenderer_74149(gl_74151, clear_74152) {

var result_74153 = {context: null, program: {p: null, vertex: {source: null, s: null, kind: 0}, fragment: {source: null, s: null, kind: 0}, colors: null, attributes: null}, buff: null, b: {r: null, c: null, p: null}};
var F={procname:"renderer.initRenderer",prev:framePtr,filename:"C:\\Dev\\proj\\crow\\crow\\renderer.nim",line:0};
framePtr = F;
F.line = 56;
result_74153.context = gl_74151;
resize_55127(result_74153.context.canvas);
F.line = 58;
nimCopy(result_74153.program, program_69105(result_74153.context, true, makeNimstrLit("attribute vec4 aPosition;\x0Auniform mat4 uMatrix;\x0Avoid main() {\x0A  gl_Position = uMatrix*aPosition;\x0A}\x0A"), makeNimstrLit("#ifdef GL_ES\x0A  precision highp float;\x0A#endif\x0A\x0Auniform vec4 uColor;\x0Avoid main() {\x0A  gl_FragColor = uColor;\x0A}\x0A")), NTI69011);
clearwith_69071(result_74153.context, clear_74152);
F.line = 60;
result_74153.buff = result_74153.context.createBuffer();
gl_74151.viewport(0, 0, gl_74151.drawingBufferWidth, gl_74151.drawingBufferHeight);
F.line = 62;
nimCopy(result_74153.b, batcher_74012(), NTI74005);
framePtr = F.prev;
return result_74153;
}
var en_83003 = /**/[initrenderer_74149(w_83002[0].ctx, {Field0: 1.0000000000000000e+000, Field1: 1.0000000000000000e+000, Field2: 1.0000000000000000e+000, Field3: 1.0000000000000000e+000})];
var speed_83005 = /**/[{Field0: 0.0, Field1: 0.0}];
var accel_83007 = /**/[{Field0: 2.0000000000000000e+000, Field1: 2.0000000000000000e+000}];
function newseq_73046(len_73050) {

var result_73052 = null;
var F={procname:"newSeq.newSeq",prev:framePtr,filename:"lib\\system.nim",line:0};
framePtr = F;
result_73052 = new Array(len_73050); for (var i=0;i<len_73050;++i) {result_73052[i]=0.0;}framePtr = F.prev;
return result_73052;
}
function raiseRangeError() {

var e_13268 = null;
e_13268 = {m_type: NTI3456, parent: null, name: null, message: null, trace: null};
e_13268.message = nimCopy(null, makeNimstrLit("value out of range"), NTI138);
raiseException(e_13268, "RangeError");
}
function setupvertices_73038(pol_73041) {

var F={procname:"primitives.setupVertices",prev:framePtr,filename:"C:\\Dev\\proj\\crow\\crow\\primitives.nim",line:0};
framePtr = F;
F.line = 31;
var Vecsize_73042 = 4;
if (pol_73041.filled) {
F.line = 35;
pol_73041.verts = nimCopy(null, newseq_73046(chckRange(addInt(mulInt(2, Vecsize_73042), mulInt(pol_73041.sides, Vecsize_73042)), 0, 2147483647)), NTI73051);
F.line = 38;
pol_73041.verts[3] = (1.0000000000000000e+000 / pol_73041.scale);
L1: do {
F.line = 41;
var i_73101 = 0;
F.line = 1918;
var HEX3Atmp_73168 = 0;
F.line = 41;
HEX3Atmp_73168 = subInt((pol_73041.verts != null ? pol_73041.verts.length : 0), 1);
F.line = 1908;
var res_73171 = 4;
L2: do {
F.line = 1909;
L3: while (true) {
if (!(res_73171 <= HEX3Atmp_73168)) break L3;
F.line = 1910;
i_73101 = res_73171;
F.line = 42;
pol_73041.verts[chckIndx(i_73101, 0, pol_73041.verts.length)-0] = (pol_73041.bcradius * Math.cos(((i_73101 * 3.1415926535897931e+000) / (pol_73041.sides * 2.0000000000000000e+000))));
F.line = 44;
pol_73041.verts[chckIndx(addInt(i_73101, 1), 0, pol_73041.verts.length)-0] = (pol_73041.bcradius * Math.sin(((i_73101 * 3.1415926535897931e+000) / (pol_73041.sides * 2.0000000000000000e+000))));
F.line = 46;
pol_73041.verts[chckIndx(addInt(i_73101, 2), 0, pol_73041.verts.length)-0] = 0.0;
F.line = 47;
pol_73041.verts[chckIndx(addInt(i_73101, 3), 0, pol_73041.verts.length)-0] = (1.0000000000000000e+000 / pol_73041.scale);
res_73171 = addInt(res_73171, 4);
}
} while(false);
} while(false);
}
else {
F.line = 50;
pol_73041.verts = nimCopy(null, newseq_73046(chckRange(mulInt(pol_73041.sides, Vecsize_73042), 0, 2147483647)), NTI73051);
L4: do {
F.line = 53;
var i_73152 = 0;
F.line = 1918;
var HEX3Atmp_73184 = 0;
F.line = 53;
HEX3Atmp_73184 = subInt((pol_73041.verts != null ? pol_73041.verts.length : 0), 1);
F.line = 1908;
var res_73187 = 0;
L5: do {
F.line = 1909;
L6: while (true) {
if (!(res_73187 <= HEX3Atmp_73184)) break L6;
F.line = 1910;
i_73152 = res_73187;
F.line = 54;
pol_73041.verts[chckIndx(i_73152, 0, pol_73041.verts.length)-0] = (pol_73041.bcradius * Math.cos(((i_73152 * 3.1415926535897931e+000) / (2.0000000000000000e+000 * pol_73041.sides))));
F.line = 55;
pol_73041.verts[chckIndx(addInt(i_73152, 1), 0, pol_73041.verts.length)-0] = (pol_73041.bcradius * Math.sin(((i_73152 * 3.1415926535897931e+000) / (2.0000000000000000e+000 * pol_73041.sides))));
F.line = 56;
pol_73041.verts[chckIndx(addInt(i_73152, 2), 0, pol_73041.verts.length)-0] = 0.0;
F.line = 57;
pol_73041.verts[chckIndx(addInt(i_73152, 3), 0, pol_73041.verts.length)-0] = (1.0000000000000000e+000 / pol_73041.scale);
res_73187 = addInt(res_73187, 4);
}
} while(false);
} while(false);
}

framePtr = F.prev;
}
function polygon_73244(x_73246, y_73247, sides_73248, boundingcircleradius_73249, filled_73250, color_73251) {

var result_73252 = [{m_type: NTI73029, sides: 0, bcradius: 0.0, color: {Field0: 0.0, Field1: 0.0, Field2: 0.0, Field3: 0.0}, pos: {Field0: 0.0, Field1: 0.0}, scale: 0.0, rot: 0.0, origin: {Field0: 0.0, Field1: 0.0}, centered: false, filled: false, verts: null}];
var F={procname:"primitives.polygon",prev:framePtr,filename:"C:\\Dev\\proj\\crow\\crow\\primitives.nim",line:0};
framePtr = F;
if (!((3 <= sides_73248))) {
raiseassert_21016(makeNimstrLit("\x0D\x0A  3 <= sides "));
}

F.line = 114;
nimCopy(result_73252[0].color, color_73251, NTI65002);
F.line = 115;
nimCopy(result_73252[0].pos, {Field0: x_73246, Field1: y_73247}, NTI73005);
F.line = 116;
result_73252[0].sides = sides_73248;
F.line = 117;
result_73252[0].bcradius = boundingcircleradius_73249;
F.line = 118;
result_73252[0].filled = filled_73250;
F.line = 119;
result_73252[0].scale = 1.0000000000000000e+000;
setupvertices_73038(result_73252[0]);
framePtr = F.prev;
return result_73252[0];
}
function rect_73206(x_73208, y_73209, w_73210, h_73211, color_73212, centered_73213) {

var result_73214 = {m_type: NTI73020, size: {Field0: 0.0, Field1: 0.0}, color: {Field0: 0.0, Field1: 0.0, Field2: 0.0, Field3: 0.0}, pos: {Field0: 0.0, Field1: 0.0}, scale: 0.0, rot: 0.0, origin: {Field0: 0.0, Field1: 0.0}, centered: false, filled: false, verts: null};
var F={procname:"primitives.rect",prev:framePtr,filename:"C:\\Dev\\proj\\crow\\crow\\primitives.nim",line:0};
framePtr = F;
F.line = 76;
nimCopy(result_73214.color, color_73212, NTI65002);
F.line = 77;
nimCopy(result_73214.pos, {Field0: x_73208, Field1: y_73209}, NTI73005);
F.line = 78;
nimCopy(result_73214.size, {Field0: w_73210, Field1: h_73211}, NTI73021);
F.line = 80;
result_73214.scale = 1.0000000000000000e+000;
F.line = 81;
result_73214.centered = centered_73213;
framePtr = F.prev;
return result_73214;
}
function circle_73228(x_73230, y_73231, r_73232, color_73233) {

var result_73234 = {m_type: NTI73026, radius: 0.0, color: {Field0: 0.0, Field1: 0.0, Field2: 0.0, Field3: 0.0}, pos: {Field0: 0.0, Field1: 0.0}, scale: 0.0, rot: 0.0, origin: {Field0: 0.0, Field1: 0.0}, centered: false, filled: false, verts: null};
var F={procname:"primitives.circle",prev:framePtr,filename:"C:\\Dev\\proj\\crow\\crow\\primitives.nim",line:0};
framePtr = F;
F.line = 93;
nimCopy(result_73234.color, color_73233, NTI65002);
F.line = 94;
nimCopy(result_73234.pos, {Field0: x_73230, Field1: y_73231}, NTI73005);
F.line = 95;
result_73234.radius = r_73232;
F.line = 96;
result_73234.scale = 1.0000000000000000e+000;
framePtr = F.prev;
return result_73234;
}
function disk_73236(x_73238, y_73239, r_73240, color_73241) {

var result_73242 = {m_type: NTI73026, radius: 0.0, color: {Field0: 0.0, Field1: 0.0, Field2: 0.0, Field3: 0.0}, pos: {Field0: 0.0, Field1: 0.0}, scale: 0.0, rot: 0.0, origin: {Field0: 0.0, Field1: 0.0}, centered: false, filled: false, verts: null};
var F={procname:"primitives.disk",prev:framePtr,filename:"C:\\Dev\\proj\\crow\\crow\\primitives.nim",line:0};
framePtr = F;
F.line = 99;
nimCopy(result_73242.color, color_73241, NTI65002);
F.line = 100;
nimCopy(result_73242.pos, {Field0: x_73238, Field1: y_73239}, NTI73005);
F.line = 101;
result_73242.radius = r_73240;
F.line = 102;
result_73242.scale = 1.0000000000000000e+000;
F.line = 103;
result_73242.filled = true;
framePtr = F.prev;
return result_73242;
}
function box_73217(x_73219, y_73220, w_73221, h_73222, color_73223, centered_73224) {

var result_73225 = {m_type: NTI73020, size: {Field0: 0.0, Field1: 0.0}, color: {Field0: 0.0, Field1: 0.0, Field2: 0.0, Field3: 0.0}, pos: {Field0: 0.0, Field1: 0.0}, scale: 0.0, rot: 0.0, origin: {Field0: 0.0, Field1: 0.0}, centered: false, filled: false, verts: null};
var F={procname:"primitives.box",prev:framePtr,filename:"C:\\Dev\\proj\\crow\\crow\\primitives.nim",line:0};
framePtr = F;
F.line = 84;
nimCopy(result_73225.color, color_73223, NTI65002);
F.line = 85;
nimCopy(result_73225.pos, {Field0: x_73219, Field1: y_73220}, NTI73005);
F.line = 87;
nimCopy(result_73225.size, {Field0: w_73221, Field1: h_73222}, NTI73021);
F.line = 88;
result_73225.scale = 1.0000000000000000e+000;
F.line = 89;
result_73225.centered = centered_73224;
F.line = 90;
result_73225.filled = true;
framePtr = F.prev;
return result_73225;
}
var p_83010 = /**/[polygon_73244(1.0000000000000000e+002, 1.0000000000000000e+002, 5, 1.0000000000000000e+001, true, {Field0: 0.0, Field1: 1.0000000000000000e+000, Field2: 0.0, Field3: 1.0000000000000000e+000})];
var r_83013 = /**/[rect_73206(2.0000000000000000e+002, 2.0000000000000000e+002, 1.0000000000000000e+001, 1.0000000000000000e+001, {Field0: 1.0000000000000000e+000, Field1: 0.0, Field2: 0.0, Field3: 1.0000000000000000e+000}, true)];
var c_83014 = /**/[circle_73228(5.0000000000000000e+001, 5.0000000000000000e+001, 1.0000000000000000e+001, {Field0: 1.0000000000000000e+000, Field1: 0.0, Field2: 0.0, Field3: 1.0000000000000000e+000})];
var d_83017 = /**/[disk_73236(1.5000000000000000e+002, 1.5000000000000000e+002, 1.0000000000000000e+001, {Field0: 1.0000000000000000e+000, Field1: 0.0, Field2: 0.0, Field3: 1.0000000000000000e+000})];
var b_83020 = /**/[box_73217(2.5000000000000000e+002, 2.5000000000000000e+002, 1.0000000000000000e+001, 1.0000000000000000e+001, {Field0: 1.0000000000000000e+000, Field1: 0.0, Field2: 0.0, Field3: 1.0000000000000000e+000}, true)];
function initeventhandler_50049(name_50051) {

var result_50052 = {Field0: null, Field1: null};
var F={procname:"events.initEventHandler",prev:framePtr,filename:"C:\\Dev\\proj\\crow\\crow\\events.nim",line:0};
framePtr = F;
F.line = 71;
result_50052.Field1 = nimCopy(null, [], NTI50068);
F.line = 72;
result_50052.Field0 = nimCopy(null, name_50051, NTI138);
framePtr = F.prev;
return result_50052;
}
function addhandler_50069(handler_50072, fn_50076) {

var F={procname:"events.addHandler",prev:framePtr,filename:"C:\\Dev\\proj\\crow\\crow\\events.nim",line:0};
framePtr = F;
if (handler_50072.Field1 != null) { handler_50072.Field1.push(fn_50076); } else { handler_50072.Field1 = [fn_50076]; };
framePtr = F.prev;
}
function on_50279(emitter_50282, event_50283, fn_50287) {

var F={procname:"events.on",prev:framePtr,filename:"C:\\Dev\\proj\\crow\\crow\\events.nim",line:0};
framePtr = F;
F.line = 102;
var i_50288 = geteventhandler_50255(emitter_50282, event_50283);
if ((i_50288 < 0)) {
F.line = 104;
var eh_50289 = /**/[initeventhandler_50049(event_50283)];
addhandler_50069(eh_50289[0], fn_50287);
if (emitter_50282.s != null) { emitter_50282.s.push(eh_50289[0]); } else { emitter_50282.s = [eh_50289[0]]; };
}
else {
addhandler_50069(emitter_50282.s[chckIndx(i_50288, 0, emitter_50282.s.length)-0], fn_50287);
}

framePtr = F.prev;
}
function HEX2BHEX3D_38904(x_38909, x_38909_Idx, y_38911) {

var F={procname:"+=.+=",prev:framePtr,filename:"lib\\system.nim",line:0};
framePtr = F;
F.line = 3392;
x_38909[x_38909_Idx] = (x_38909[x_38909_Idx] + y_38911);
framePtr = F.prev;
}
function HEX2BHEX3D_82053(lf_82059, rg_82063) {

var F={procname:"renderer.+=",prev:framePtr,filename:"C:\\Dev\\proj\\crow\\crow\\renderer.nim",line:0};
framePtr = F;
HEX2BHEX3D_38904(lf_82059, "Field0", rg_82063["Field0"]);
HEX2BHEX3D_38904(lf_82059, "Field1", rg_82063["Field1"]);
framePtr = F.prev;
}
function HEX3Aanonymous_83032(e_83034) {

var F={procname:"ex2.:anonymous",prev:framePtr,filename:"ex2.nim",line:0};
framePtr = F;
HEX2BHEX3D_82053(speed_83005[0], accel_83007[0]);
framePtr = F.prev;
}
on_50279(evq_83001[0], makeNimstrLit("click"), HEX3Aanonymous_83032);
function HEX3Aanonymous_83037(e_83039) {

var F={procname:"ex2.:anonymous",prev:framePtr,filename:"ex2.nim",line:0};
framePtr = F;
HEX2BHEX3D_82053(p_83010[0].pos, speed_83005[0]);
framePtr = F.prev;
}
on_50279(evq_83001[0], makeNimstrLit("update"), HEX3Aanonymous_83037);
function extractprogram_69059(program_69061) {

var result_69062 = null;
var F={procname:"gl.extractProgram",prev:framePtr,filename:"C:\\Dev\\proj\\crow\\crow\\gl.nim",line:0};
framePtr = F;
F.line = 25;
result_69062 = program_69061.p;
framePtr = F.prev;
return result_69062;
}
function HEX5BHEX5DHEX3D_71412(m_71449, i_71451, j_71453, val_71455) {

var F={procname:"[]=.[]=",prev:framePtr,filename:"C:\\Users\\stisa\\.nimble\\pkgs\\snail-0.1.0\\snail\\matrix.nim",line:0};
framePtr = F;
if (!((i_71451 < 4))) {
failedassertimpl_21039(makeNimstrLit("i < N Row index out of bounds"));
}

if (!((j_71453 < 4))) {
failedassertimpl_21039(makeNimstrLit("j < M Column index out of bounds"));
}

F.line = 36;
m_71449.data[chckIndx(addInt(mulInt(i_71451, 4), j_71453), 0, m_71449.data.length)-0] = val_71455;
framePtr = F.prev;
}
function low_75602(v_75606) {

var result_75607 = 0;
var F={procname:"low.low",prev:framePtr,filename:"C:\\Users\\stisa\\.nimble\\pkgs\\snail-0.1.0\\snail\\vector.nim",line:0};
framePtr = F;
F.line = 84;
result_75607 = 0;
framePtr = F.prev;
return result_75607;
}
function high_75616(v_75620) {

var result_75621 = 0;
var F={procname:"high.high",prev:framePtr,filename:"C:\\Users\\stisa\\.nimble\\pkgs\\snail-0.1.0\\snail\\vector.nim",line:0};
framePtr = F;
F.line = 85;
result_75621 = 3;
framePtr = F.prev;
return result_75621;
}
function HEX5BHEX5D_75640(v_75646, i_75648) {

var result_75649 = 0.0;
var F={procname:"[].[]",prev:framePtr,filename:"C:\\Users\\stisa\\.nimble\\pkgs\\snail-0.1.0\\snail\\vector.nim",line:0};
framePtr = F;
F.line = 49;
result_75649 = v_75646.data[chckIndx(i_75648, 0, v_75646.data.length)-0];
framePtr = F.prev;
return result_75649;
}
function HEX5BHEX5D_75651(v_75657, i_75659) {

var result_75660 = 0.0;
var F={procname:"[].[]",prev:framePtr,filename:"C:\\Users\\stisa\\.nimble\\pkgs\\snail-0.1.0\\snail\\vector.nim",line:0};
framePtr = F;
F.line = 49;
result_75660 = v_75657.data[chckIndx(i_75659, 0, v_75657.data.length)-0];
framePtr = F.prev;
return result_75660;
}
function dot_75417(v_75454, w_75489) {

var result_75490 = [0.0];
var F={procname:"dot.dot",prev:framePtr,filename:"C:\\Users\\stisa\\.nimble\\pkgs\\snail-0.1.0\\snail\\vector.nim",line:0};
framePtr = F;
L1: do {
F.line = 121;
var i_75638 = 0;
F.line = 1926;
var HEX3Atmp_75672 = 0;
F.line = 1926;
var HEX3Atmp_75673 = 0;
F.line = 121;
HEX3Atmp_75672 = low_75602(v_75454);
F.line = 121;
HEX3Atmp_75673 = high_75616(v_75454);
F.line = 1908;
var res_75676 = HEX3Atmp_75672;
L2: do {
F.line = 1909;
L3: while (true) {
if (!(res_75676 <= HEX3Atmp_75673)) break L3;
F.line = 1910;
i_75638 = res_75676;
HEX2BHEX3D_38904(result_75490, 0, (HEX5BHEX5D_75640(v_75454, i_75638) * HEX5BHEX5D_75651(w_75489, i_75638)));
res_75676 = addInt(res_75676, 1);
}
} while(false);
} while(false);
framePtr = F.prev;
return result_75490[0];
}
function row_74622(m_74658, r_74660) {

var result_74694 = {data: null, p: [null, 0]};
var F={procname:"row.row",prev:framePtr,filename:"C:\\Users\\stisa\\.nimble\\pkgs\\snail-0.1.0\\snail\\matrix.nim",line:0};
framePtr = F;
if (!((r_74660 < 4))) {
failedassertimpl_21039(makeNimstrLit("r < N The matrix has less rows than the requested row index"));
}

result_74694.data = new Float64Array(4);
L1: do {
F.line = 99;
var i_75010 = 0;
F.line = 3689;
var i_75014 = 0;
L2: do {
F.line = 3690;
L3: while (true) {
if (!(i_75014 < 4)) break L3;
F.line = 3689;
i_75010 = i_75014;
F.line = 99;
result_74694.data[chckIndx(i_75010, 0, result_74694.data.length)-0] = m_74658.data[chckIndx(addInt(mulInt(r_74660, 4), i_75010), 0, m_74658.data.length)-0];
i_75014 = addInt(i_75014, 1);
}
} while(false);
} while(false);
framePtr = F.prev;
return result_74694;
}
function col_75017(m_75053, c_75055) {

var result_75089 = {data: null, p: [null, 0]};
var F={procname:"col.col",prev:framePtr,filename:"C:\\Users\\stisa\\.nimble\\pkgs\\snail-0.1.0\\snail\\matrix.nim",line:0};
framePtr = F;
if (!((c_75055 < 4))) {
failedassertimpl_21039(makeNimstrLit("c < M The matrix has less cols than the requested col index"));
}

result_75089.data = new Float64Array(4);
L1: do {
F.line = 112;
var i_75410 = 0;
F.line = 3689;
var i_75414 = 0;
L2: do {
F.line = 3690;
L3: while (true) {
if (!(i_75414 < 4)) break L3;
F.line = 3689;
i_75410 = i_75414;
F.line = 112;
result_75089.data[chckIndx(i_75410, 0, result_75089.data.length)-0] = m_75053.data[chckIndx(addInt(mulInt(i_75410, 4), c_75055), 0, m_75053.data.length)-0];
i_75414 = addInt(i_75414, 1);
}
} while(false);
} while(false);
framePtr = F.prev;
return result_75089;
}
function matmul_74193(m_74230, w_74263) {

var result_74295 = [{data: null}];
var F={procname:"matMul.matMul",prev:framePtr,filename:"C:\\Users\\stisa\\.nimble\\pkgs\\snail-0.1.0\\snail\\matrix.nim",line:0};
framePtr = F;
result_74295[0].data = new Float64Array(16);
L1: do {
F.line = 133;
var r_74610 = 0;
F.line = 3689;
var i_75734 = 0;
L2: do {
F.line = 3690;
L3: while (true) {
if (!(i_75734 < 4)) break L3;
F.line = 3689;
r_74610 = i_75734;
L4: do {
F.line = 134;
var c_74620 = 0;
F.line = 3689;
var i_75730 = 0;
L5: do {
F.line = 3690;
L6: while (true) {
if (!(i_75730 < 4)) break L6;
F.line = 3689;
c_74620 = i_75730;
HEX5BHEX5DHEX3D_71412(result_74295[0], r_74610, c_74620, dot_75417(row_74622(m_74230, r_74610), col_75017(w_74263, c_74620)));
i_75730 = addInt(i_75730, 1);
}
} while(false);
} while(false);
i_75734 = addInt(i_75734, 1);
}
} while(false);
} while(false);
framePtr = F.prev;
return result_74295[0];
}
function identity_71163() {

var result_71201 = [{data: null}];
var F={procname:"identity.identity",prev:framePtr,filename:"C:\\Users\\stisa\\.nimble\\pkgs\\snail-0.1.0\\snail\\matrix.nim",line:0};
framePtr = F;
result_71201[0].data = new Float64Array(16);
L1: do {
F.line = 90;
var i_71410 = 0;
F.line = 3689;
var i_71806 = 0;
L2: do {
F.line = 3690;
L3: while (true) {
if (!(i_71806 < 4)) break L3;
F.line = 3689;
i_71410 = i_71806;
HEX5BHEX5DHEX3D_71412(result_71201[0], i_71410, i_71410, 1.0000000000000000e+000);
i_71806 = addInt(i_71806, 1);
}
} while(false);
} while(false);
framePtr = F.prev;
return result_71201[0];
}
function degtorad_71824(d_71828) {

var result_71829 = 0.0;
result_71829 = (d_71828 * 1.7453292519943295e-002);
return result_71829;
}
function tomatrix_70204(arr_70224) {

var result_70262 = {data: null};
var F={procname:"toMatrix.toMatrix",prev:framePtr,filename:"C:\\Users\\stisa\\.nimble\\pkgs\\snail-0.1.0\\snail\\matrix.nim",line:0};
framePtr = F;
result_70262.data = new Float64Array(16);
if (!(true)) {
failedassertimpl_21039(makeNimstrLit("\x0D\x0A  true "));
}

if (false) {
L1: do {
F.line = 67;
var i_70814 = 0;
F.line = 1908;
var res_70818 = 0;
L2: do {
F.line = 1909;
L3: while (true) {
if (!(res_70818 <= 15)) break L3;
F.line = 1910;
i_70814 = chckRange(res_70818, 0, 15);
F.line = 67;
result_70262.data[chckIndx(i_70814, 0, result_70262.data.length)-0] = arr_70224[chckIndx(i_70814, 0, arr_70224.length)-0];
res_70818 = addInt(res_70818, 1);
}
} while(false);
} while(false);
}
else {
F.line = 69;
nimCopy(result_70262.data, arr_70224, NTI70211);
}

framePtr = F.prev;
return result_70262;
}
function rotation_71117(phi_71123, theta_71125) {

var result_71159 = {data: null};
var F={procname:"rotation.rotation",prev:framePtr,filename:"C:\\Users\\stisa\\.nimble\\pkgs\\snail-0.1.0\\snail\\graphic.nim",line:0};
framePtr = F;
BeforeRet: do {
if ((phi_71123 == 0.0)) {
F.line = 46;
nimCopy(result_71159, identity_71163(), NTI71172);
break BeforeRet;
}

if (false) {
raiseassert_21016(makeNimstrLit("true "));
}

F.line = 49;
var resarr_71822 = new Float64Array(16);
F.line = 50;
var ra_71831 = degtorad_71824(phi_71123);
F.line = 51;
var s_71832 = Math.sin(ra_71831);
F.line = 52;
var c_71833 = Math.cos(ra_71831);
F.line = 54;
resarr_71822[0] = c_71833;
F.line = 55;
resarr_71822[1] = s_71832;
F.line = 56;
resarr_71822[4] = -(s_71832);
F.line = 57;
resarr_71822[5] = c_71833;
F.line = 58;
resarr_71822[10] = 1.0000000000000000e+000;
F.line = 59;
resarr_71822[15] = 1.0000000000000000e+000;
F.line = 61;
nimCopy(result_71159, tomatrix_70204(resarr_71822), NTI70233);
} while (false); 
framePtr = F.prev;
return result_71159;
}
function rotation_71107(phi_71109, theta_71110) {

var result_71114 = {data: null};
var F={procname:"graphic.rotation",prev:framePtr,filename:"C:\\Users\\stisa\\.nimble\\pkgs\\snail-0.1.0\\snail\\graphic.nim",line:0};
framePtr = F;
F.line = 64;
nimCopy(result_71114, rotation_71117(phi_71109, theta_71110), NTI71130);
framePtr = F.prev;
return result_71114;
}
function translation_70876(x_70882, y_70884, z_70886) {

var Tmp1;
var result_70920 = {data: null};
var F={procname:"translation.translation",prev:framePtr,filename:"C:\\Users\\stisa\\.nimble\\pkgs\\snail-0.1.0\\snail\\graphic.nim",line:0};
framePtr = F;
if (!true) Tmp1 = false; else {Tmp1 = true; }if (!(Tmp1)) {
raiseassert_21016(makeNimstrLit("\x0D\x0A  true and true be careful with implicit conversions from int to float"));
}

F.line = 24;
var resarr_70923 = new Float64Array(16);
F.line = 25;
resarr_70923[0] = 1.0000000000000000e+000;
F.line = 26;
resarr_70923[5] = 1.0000000000000000e+000;
F.line = 27;
resarr_70923[10] = 1.0000000000000000e+000;
F.line = 33;
resarr_70923[12] = x_70882;
F.line = 34;
resarr_70923[13] = y_70884;
F.line = 35;
resarr_70923[14] = z_70886;
F.line = 36;
resarr_70923[15] = 1.0000000000000000e+000;
F.line = 38;
nimCopy(result_70920, tomatrix_70204(resarr_70923), NTI70233);
framePtr = F.prev;
return result_70920;
}
function translation_70865(x_70867, y_70868, z_70869) {

var result_70873 = {data: null};
var F={procname:"graphic.translation",prev:framePtr,filename:"C:\\Users\\stisa\\.nimble\\pkgs\\snail-0.1.0\\snail\\graphic.nim",line:0};
framePtr = F;
F.line = 42;
nimCopy(result_70873, translation_70876(x_70867, y_70868, z_70869), NTI70891);
framePtr = F.prev;
return result_70873;
}
function projection_70047(w_70053, h_70055) {

var result_70089 = {data: null};
var F={procname:"projection.projection",prev:framePtr,filename:"C:\\Users\\stisa\\.nimble\\pkgs\\snail-0.1.0\\snail\\graphic.nim",line:0};
framePtr = F;
F.line = 6;
var resarr_70092 = new Float64Array(16);
if (false) {
raiseassert_21016(makeNimstrLit("true "));
}

F.line = 8;
resarr_70092[0] = (2.0000000000000000e+000 / w_70053);
F.line = 9;
resarr_70092[5] = (-2.0000000000000000e+000 / h_70055);
F.line = 10;
resarr_70092[10] = 1.0000000000000000e+000;
F.line = 12;
resarr_70092[12] = -1.0000000000000000e+000;
F.line = 13;
resarr_70092[13] = 1.0000000000000000e+000;
F.line = 14;
resarr_70092[14] = 1.0000000000000000e+000;
F.line = 15;
resarr_70092[15] = 1.0000000000000000e+000;
F.line = 16;
nimCopy(result_70089, tomatrix_70204(resarr_70092), NTI70233);
framePtr = F.prev;
return result_70089;
}
function projection_70037(w_70039, h_70040) {

var result_70044 = {data: null};
var F={procname:"graphic.projection",prev:framePtr,filename:"C:\\Users\\stisa\\.nimble\\pkgs\\snail-0.1.0\\snail\\graphic.nim",line:0};
framePtr = F;
F.line = 19;
nimCopy(result_70044, projection_70047(w_70039, h_70040), NTI70060);
framePtr = F.prev;
return result_70044;
}
function setmatrixunif_74181(eng_74183, rend_74184, uniform_74185) {

var F={procname:"renderer.setMatrixUnif",prev:framePtr,filename:"C:\\Dev\\proj\\crow\\crow\\renderer.nim",line:0};
framePtr = F;
F.line = 81;
var w_74186 = eng_74183.context.drawingBufferWidth;
F.line = 82;
var h_74187 = eng_74183.context.drawingBufferHeight;
F.line = 84;
var umatloc_74188 = eng_74183.context.getUniformLocation(extractprogram_69059(eng_74183.program), toJSStr(uniform_74185));
F.line = 86;
var mat_75951 = matmul_74193(matmul_74193(matmul_74193(rotation_71107(rend_74184.rot, 0.0), translation_70865(rend_74184.pos.Field0, rend_74184.pos.Field1, 0.0)), translation_70865(rend_74184.origin.Field0, rend_74184.origin.Field1, 0.0)), projection_70037(w_74186, h_74187));
eng_74183.context.uniformMatrix4fv(umatloc_74188, false, new Float32Array(mat_75951.data));
framePtr = F.prev;
}
function uploadvertices_69151(gl_69153, buff_69154, vertices_69156, drawmode_69157) {

var F={procname:"gl.uploadVertices",prev:framePtr,filename:"C:\\Dev\\proj\\crow\\crow\\gl.nim",line:0};
framePtr = F;
gl_69153.bindBuffer(34962, buff_69154);
gl_69153.bufferData(34962, new Float32Array(vertices_69156), drawmode_69157);
gl_69153.bindBuffer(34962, buff_69154);
framePtr = F.prev;
}
function bindcolor_69124(gl_69126, program_69127, colorname_69128, color_69129) {

var F={procname:"gl.bindColor",prev:framePtr,filename:"C:\\Dev\\proj\\crow\\crow\\gl.nim",line:0};
framePtr = F;
F.line = 81;
var uloc_69130 = gl_69126.getUniformLocation(extractprogram_69059(program_69127), toJSStr(colorname_69128));
gl_69126.uniform4fv(uloc_69130, new Float32Array([color_69129.Field0, color_69129.Field1, color_69129.Field2, color_69129.Field3]));
framePtr = F.prev;
}
function enableattribute_69144(gl_69146, program_69147, attribname_69148, itemsize_69149) {

var F={procname:"gl.enableAttribute",prev:framePtr,filename:"C:\\Dev\\proj\\crow\\crow\\gl.nim",line:0};
framePtr = F;
F.line = 86;
var aloc_69150 = gl_69146.getAttribLocation(extractprogram_69059(program_69147), toJSStr(attribname_69148));
gl_69146.enableVertexAttribArray(aloc_69150);
gl_69146.vertexAttribPointer(aloc_69150, itemsize_69149, 5126, false, 0, 0);
framePtr = F.prev;
}
function drawtriangles_69158(gl_69160, buff_69161, p_69162, vertices_69164, color_69165, drawmode_69166) {

var F={procname:"gl.drawTriangles",prev:framePtr,filename:"C:\\Dev\\proj\\crow\\crow\\gl.nim",line:0};
framePtr = F;
uploadvertices_69151(gl_69160, buff_69161, vertices_69164, drawmode_69166);
F.line = 103;
var numvertices_69175 = divInt((vertices_69164 != null ? vertices_69164.length : 0), 4);
bindcolor_69124(gl_69160, p_69162, makeNimstrLit("uColor"), color_69165);
enableattribute_69144(gl_69160, p_69162, makeNimstrLit("aPosition"), 4);
gl_69160.drawArrays(4, 0, numvertices_69175);
gl_69160.flush();
framePtr = F.prev;
}
function drawtriangles_74160(eng_74162, vertices_74164, color_74165, drawmode_74166) {

var F={procname:"renderer.drawTriangles",prev:framePtr,filename:"C:\\Dev\\proj\\crow\\crow\\renderer.nim",line:0};
framePtr = F;
drawtriangles_69158(eng_74162.context, eng_74162.buff, eng_74162.program, vertices_74164, color_74165, drawmode_74166);
framePtr = F.prev;
}
function drawb_75994(eng_75996, rect_75997) {

var F={procname:"renderer.drawB",prev:framePtr,filename:"C:\\Dev\\proj\\crow\\crow\\renderer.nim",line:0};
framePtr = F;
setmatrixunif_74181(eng_75996, rect_75997, makeNimstrLit("uMatrix"));
if (rect_75997.centered) {
F.line = 124;
var hw_75999 = (rect_75997.size.Field0 / 2.0000000000000000e+000);
F.line = 125;
var hh_76001 = (rect_75997.size.Field1 / 2.0000000000000000e+000);
drawtriangles_74160(eng_75996, [-(hw_75999), -(hh_76001), 0.0, (1.0000000000000000e+000 / rect_75997.scale), hw_75999, -(hh_76001), 0.0, (1.0000000000000000e+000 / rect_75997.scale), -(hw_75999), hh_76001, 0.0, (1.0000000000000000e+000 / rect_75997.scale), -(hw_75999), hh_76001, 0.0, (1.0000000000000000e+000 / rect_75997.scale), hw_75999, hh_76001, 0.0, (1.0000000000000000e+000 / rect_75997.scale), hw_75999, -(hh_76001), 0.0, (1.0000000000000000e+000 / rect_75997.scale)], rect_75997.color, 35048);
}
else {
drawtriangles_74160(eng_75996, [0.0, 0.0, 0.0, (1.0000000000000000e+000 / rect_75997.scale), rect_75997.size.Field0, 0.0, 0.0, (1.0000000000000000e+000 / rect_75997.scale), rect_75997.size.Field0, rect_75997.size.Field1, 0.0, (1.0000000000000000e+000 / rect_75997.scale), rect_75997.size.Field0, rect_75997.size.Field1, 0.0, (1.0000000000000000e+000 / rect_75997.scale), 0.0, rect_75997.size.Field1, 0.0, (1.0000000000000000e+000 / rect_75997.scale), 0.0, 0.0, 0.0, (1.0000000000000000e+000 / rect_75997.scale)], rect_75997.color, 35048);
}

framePtr = F.prev;
}
function drawlineloop_69194(gl_69196, buff_69197, p_69198, vertices_69200, color_69201, drawmode_69202) {

var F={procname:"gl.drawLineLoop",prev:framePtr,filename:"C:\\Dev\\proj\\crow\\crow\\gl.nim",line:0};
framePtr = F;
uploadvertices_69151(gl_69196, buff_69197, vertices_69200, drawmode_69202);
F.line = 122;
var numvertices_69211 = divInt((vertices_69200 != null ? vertices_69200.length : 0), 4);
bindcolor_69124(gl_69196, p_69198, makeNimstrLit("uColor"), color_69201);
enableattribute_69144(gl_69196, p_69198, makeNimstrLit("aPosition"), 4);
gl_69196.drawArrays(2, 0, numvertices_69211);
gl_69196.flush();
framePtr = F.prev;
}
function drawlineloop_74174(eng_74176, vertices_74178, color_74179, drawmode_74180) {

var F={procname:"renderer.drawLineLoop",prev:framePtr,filename:"C:\\Dev\\proj\\crow\\crow\\renderer.nim",line:0};
framePtr = F;
drawlineloop_69194(eng_74176.context, eng_74176.buff, eng_74176.program, vertices_74178, color_74179, drawmode_74180);
framePtr = F.prev;
}
function drawr_75957(eng_75959, rect_75960) {

var F={procname:"renderer.drawR",prev:framePtr,filename:"C:\\Dev\\proj\\crow\\crow\\renderer.nim",line:0};
framePtr = F;
setmatrixunif_74181(eng_75959, rect_75960, makeNimstrLit("uMatrix"));
if (rect_75960.centered) {
F.line = 100;
var hw_75962 = (rect_75960.size.Field0 / 2.0000000000000000e+000);
F.line = 101;
var hh_75964 = (rect_75960.size.Field1 / 2.0000000000000000e+000);
drawlineloop_74174(eng_75959, [-(hw_75962), -(hh_75964), 0.0, (1.0000000000000000e+000 / rect_75960.scale), hw_75962, -(hh_75964), 0.0, (1.0000000000000000e+000 / rect_75960.scale), hw_75962, hh_75964, 0.0, (1.0000000000000000e+000 / rect_75960.scale), -(hw_75962), hh_75964, 0.0, (1.0000000000000000e+000 / rect_75960.scale)], rect_75960.color, 35044);
}
else {
drawlineloop_74174(eng_75959, [0.0, 0.0, 0.0, (1.0000000000000000e+000 / rect_75960.scale), rect_75960.size.Field0, 0.0, 0.0, (1.0000000000000000e+000 / rect_75960.scale), rect_75960.size.Field0, rect_75960.size.Field1, 0.0, (1.0000000000000000e+000 / rect_75960.scale), 0.0, rect_75960.size.Field1, 0.0, (1.0000000000000000e+000 / rect_75960.scale)], rect_75960.color, 35044);
}

framePtr = F.prev;
}
function draw_76183(r_76185, rect_76186) {

var F={procname:"renderer.draw",prev:framePtr,filename:"C:\\Dev\\proj\\crow\\crow\\renderer.nim",line:0};
framePtr = F;
if (rect_76186.filled) {
drawb_75994(r_76185, rect_76186);
}
else {
drawr_75957(r_76185, rect_76186);
}

framePtr = F.prev;
}
function HEX2F_20207(x_20209, y_20210) {

var result_20211 = 0.0;
var F={procname:"system./",prev:framePtr,filename:"lib\\system.nim",line:0};
framePtr = F;
F.line = 3241;
result_20211 = (x_20209 / y_20210);
framePtr = F.prev;
return result_20211;
}
function drawtrianglefan_69176(gl_69178, buff_69179, p_69180, vertices_69182, color_69183, drawmode_69184) {

var F={procname:"gl.drawTriangleFan",prev:framePtr,filename:"C:\\Dev\\proj\\crow\\crow\\gl.nim",line:0};
framePtr = F;
uploadvertices_69151(gl_69178, buff_69179, vertices_69182, drawmode_69184);
F.line = 112;
var numvertices_69193 = divInt((vertices_69182 != null ? vertices_69182.length : 0), 4);
bindcolor_69124(gl_69178, p_69180, makeNimstrLit("uColor"), color_69183);
enableattribute_69144(gl_69178, p_69180, makeNimstrLit("aPosition"), 4);
gl_69178.drawArrays(6, 0, numvertices_69193);
gl_69178.flush();
framePtr = F.prev;
}
function drawtrianglefan_74167(eng_74169, vertices_74171, color_74172, drawmode_74173) {

var F={procname:"renderer.drawTriangleFan",prev:framePtr,filename:"C:\\Dev\\proj\\crow\\crow\\renderer.nim",line:0};
framePtr = F;
drawtrianglefan_69176(eng_74169.context, eng_74169.buff, eng_74169.program, vertices_74171, color_74172, drawmode_74173);
framePtr = F.prev;
}
function drawd_76031(eng_76033, circle_76034, roughness_76035) {

var F={procname:"renderer.drawD",prev:framePtr,filename:"C:\\Dev\\proj\\crow\\crow\\renderer.nim",line:0};
framePtr = F;
setmatrixunif_74181(eng_76033, circle_76034, makeNimstrLit("uMatrix"));
F.line = 153;
var verts_76064 = newseq_73046(chckRange(addInt(4, mulInt(mulInt(roughness_76035, 4), 2)), 0, 2147483647));
F.line = 156;
verts_76064[3] = (1.0000000000000000e+000 / circle_76034.scale);
L1: do {
F.line = 158;
var i_76085 = 0;
F.line = 1918;
var HEX3Atmp_76097 = 0;
F.line = 158;
HEX3Atmp_76097 = subInt((verts_76064 != null ? verts_76064.length : 0), 1);
F.line = 1908;
var res_76100 = 4;
L2: do {
F.line = 1909;
L3: while (true) {
if (!(res_76100 <= HEX3Atmp_76097)) break L3;
F.line = 1910;
i_76085 = res_76100;
F.line = 159;
verts_76064[chckIndx(i_76085, 0, verts_76064.length)-0] = (circle_76034.radius * Math.cos((((HEX2F_20207(i_76085, 4) * 2.0000000000000000e+000) * 3.1415926535897931e+000) / roughness_76035)));
F.line = 160;
verts_76064[chckIndx(addInt(i_76085, 1), 0, verts_76064.length)-0] = (circle_76034.radius * Math.sin((((HEX2F_20207(i_76085, 4) * 2.0000000000000000e+000) * 3.1415926535897931e+000) / roughness_76035)));
F.line = 161;
verts_76064[chckIndx(addInt(i_76085, 2), 0, verts_76064.length)-0] = 0.0;
F.line = 162;
verts_76064[chckIndx(addInt(i_76085, 3), 0, verts_76064.length)-0] = (1.0000000000000000e+000 / circle_76034.scale);
res_76100 = addInt(res_76100, 4);
}
} while(false);
} while(false);
drawtrianglefan_74167(eng_76033, verts_76064, circle_76034.color, 35048);
framePtr = F.prev;
}
function drawc_76104(eng_76106, circle_76107, roughness_76108) {

var F={procname:"renderer.drawC",prev:framePtr,filename:"C:\\Dev\\proj\\crow\\crow\\renderer.nim",line:0};
framePtr = F;
setmatrixunif_74181(eng_76106, circle_76107, makeNimstrLit("uMatrix"));
F.line = 169;
var verts_76137 = newseq_73046(chckRange(mulInt(roughness_76108, 4), 0, 2147483647));
L1: do {
F.line = 172;
var i_76157 = 0;
F.line = 1918;
var HEX3Atmp_76172 = 0;
F.line = 172;
HEX3Atmp_76172 = subInt((verts_76137 != null ? verts_76137.length : 0), 1);
F.line = 1908;
var res_76175 = 0;
L2: do {
F.line = 1909;
L3: while (true) {
if (!(res_76175 <= HEX3Atmp_76172)) break L3;
F.line = 1910;
i_76157 = res_76175;
F.line = 173;
verts_76137[chckIndx(i_76157, 0, verts_76137.length)-0] = (circle_76107.radius * Math.cos(((i_76157 * 3.1415926535897931e+000) / (2.0000000000000000e+000 * roughness_76108))));
F.line = 174;
verts_76137[chckIndx(addInt(i_76157, 1), 0, verts_76137.length)-0] = (circle_76107.radius * Math.sin(((i_76157 * 3.1415926535897931e+000) / (2.0000000000000000e+000 * roughness_76108))));
F.line = 175;
verts_76137[chckIndx(addInt(i_76157, 2), 0, verts_76137.length)-0] = 0.0;
F.line = 176;
verts_76137[chckIndx(addInt(i_76157, 3), 0, verts_76137.length)-0] = (1.0000000000000000e+000 / circle_76107.scale);
res_76175 = addInt(res_76175, 4);
}
} while(false);
} while(false);
drawlineloop_74174(eng_76106, verts_76137, circle_76107.color, 35044);
framePtr = F.prev;
}
function draw_76187(r_76189, circle_76190, roughness_76191) {

var F={procname:"renderer.draw",prev:framePtr,filename:"C:\\Dev\\proj\\crow\\crow\\renderer.nim",line:0};
framePtr = F;
if (circle_76190.filled) {
drawd_76031(r_76189, circle_76190, roughness_76191);
}
else {
drawc_76104(r_76189, circle_76190, roughness_76191);
}

framePtr = F.prev;
}
function draw_76179(eng_76181, pol_76182) {

var F={procname:"renderer.draw",prev:framePtr,filename:"C:\\Dev\\proj\\crow\\crow\\renderer.nim",line:0};
framePtr = F;
setmatrixunif_74181(eng_76181, pol_76182, makeNimstrLit("uMatrix"));
if (pol_76182.filled) {
drawtrianglefan_74167(eng_76181, pol_76182.verts, pol_76182.color, 35048);
}
else {
drawlineloop_74174(eng_76181, pol_76182.verts, pol_76182.color, 35044);
}

framePtr = F.prev;
}
function requestanimationframe_55111(fn_55116) {

var F={procname:"webgl.requestAnimationFrame",prev:framePtr,filename:"C:\\Users\\stisa\\.nimble\\pkgs\\webgl-0.1.0\\webgl.nim",line:0};
framePtr = F;
F.line = 433;
window.requestAnimationFrame(fn_55116);framePtr = F.prev;
}
function innerframedraw_83047(now_83045) {

var F={procname:"ex2.innerframedraw",prev:framePtr,filename:"C:\\Dev\\proj\\crow\\crow\\renderer.nim",line:0};
framePtr = F;
F.line = 253;
dt_83046[0] = (now_83045 - lastt_83043[0]);
emit_50410(evq_83001[0], makeNimstrLit("update"), {dt: dt_83046[0], kind: 0, key: 0, mods: 0, button: 0, kmods: 0, pos: {Field0: 0.0, Field1: 0.0}});
resize_55127(en_83003[0].context.canvas);
en_83003[0].context.viewport(0, 0, en_83003[0].context.drawingBufferWidth, en_83003[0].context.drawingBufferHeight);
draw_76183(en_83003[0], b_83020[0]);
draw_76187(en_83003[0], c_83014[0], 32);
draw_76187(en_83003[0], d_83017[0], 32);
draw_76179(en_83003[0], p_83010[0]);
draw_76183(en_83003[0], r_83013[0]);
F.line = 255;
lastt_83043[0] = now_83045;
requestanimationframe_55111(innerframedraw_83047);
framePtr = F.prev;
}
var lastt_83043 = /**/[0.0];
var dt_83046 = /**/[0.0];
innerframedraw_83047(0.0);
