<!DOCTYPE html>
<html lang="eu">

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <meta name="description" content="Examples for crow">
  <meta name="author" content="stisa">
  <link rel="stylesheet" href="http://stisa.space/css/main.css">
  <link rel="stylesheet" href="http://stisa.space/css/prism.css">
  <link rel="apple-touch-icon-precomposed" href="http://stisa.space/favicon-152.png">
  <meta name="msapplication-TileColor" content="#FFFFFF">
  <meta name="msapplication-TileImage" content="http://stisa.space/favicon-144.png">
  <style>@media only screen and (min-width: 800px)  { .output { float:left; padding-right:1em;} } </style>
  <title>Example: ex2</title>    
</head>
<body>
  <header class="sidebar">

    <h3>Menu</h3>

    <div class="menu">

      <a href="/">Home</a>
      <a href="/projects/">Projects</a>
      <a href="/about/">About Me</a>
      <br/>
      <a href="/crow/">crow</a>
    </div>
  </header>
  <section class="content">
    <section class="output" id="output">
      <!--TODO:meaningful output-->
      <h2>Example: ex2</h2>
      <canvas style="width:100%; height:100%; min-height:25em;" id="niwe-canvas">
        Your browser doesn't appear to support the 
        <code>&lt;canvas&gt;</code> element.
      </canvas>
      <script type="text/javascript" src="./ex2.js"></script>
    </section>
    <section class="examplecode">
      <h2>Code</h2>
      <pre><code class="language-nim">import ../crow/[events,windows,gl,renderer,colors,primitives]
from webgl import resize
var evq = initEvents()
var w = initWindow()
var en = initRenderer(w.ctx)

var speed = (0.0,0.0)
var accel = (2.0,2.0)

var
  p = polygon(100,100,5,10,filled=true,color=Green)
  r = rect(200,200)
  c = circle(50,50)
  d = disk(150,150)
  b = box(250,250)

evq.on("click", 
  proc (e:EventArgs)=
  speed += accel)
evq.on("update", 
  proc (e:EventArgs)=
  p.pos += speed)

frame:
  evq.emit("update",EventArgs(dt:dt))
  en.context.canvas.resize()
  en.context.viewport(0, 0, en.context.drawingBufferWidth, en.context.drawingBufferHeight)
  en.draw(b)
  en.draw(c)
  en.draw(d)
  en.draw(p)
  en.draw(r)


</code></pre>
    </section>
  </section>
  <script src="http://stisa.space/js/prism.js"></script>
  
</body>
